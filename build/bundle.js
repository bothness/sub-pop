var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(e,t,n){e.$$.on_destroy.push(a(t,n))}function c(e,t,n,r){if(e){const i=s(e,t,n,r);return e[0](i)}}function s(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function u(e,t,n,r,i,o,a){const l=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,o);if(l){const i=s(t,n,r,a);e.p(i,l)}}function d(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode.removeChild(e)}function g(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function y(e){return document.createTextNode(e)}function b(){return y(" ")}function v(){return y("")}function x(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function M(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function N(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let z,A;function R(){if(void 0===z){z=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){z=!0}}return z}function E(e,t,n){e.classList[n?"add":"remove"](t)}function S(e){A=e}function T(){if(!A)throw new Error("Function called outside component initialization");return A}function _(e){return T().$$.context.get(e)}const D=[],C=[],L=[],P=[],j=Promise.resolve();let q=!1;function B(e){L.push(e)}function H(e){P.push(e)}let O=!1;const W=new Set;function F(){if(!O){O=!0;do{for(let e=0;e<D.length;e+=1){const t=D[e];S(t),U(t.$$)}for(S(null),D.length=0;C.length;)C.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];W.has(t)||(W.add(t),t())}L.length=0}while(D.length);for(;P.length;)P.pop()();q=!1,O=!1,W.clear()}}function U(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const I=new Set;let G;function K(){G={r:0,c:[],p:G}}function V(){G.r||r(G.c),G=G.p}function Y(e,t){e&&e.i&&(I.delete(e),e.i(t))}function X(e,t,n,r){if(e&&e.o){if(I.has(e))return;I.add(e),G.c.push((()=>{I.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function J(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Q(e){e&&e.c()}function Z(e,n,o,a){const{fragment:l,on_mount:c,on_destroy:s,after_update:u}=e.$$;l&&l.m(n,o),a||B((()=>{const n=c.map(t).filter(i);s?s.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(B)}function ee(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function te(e,t){-1===e.$$.dirty[0]&&(D.push(e),q||(q=!0,j.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(t,i,o,a,l,c,s=[-1]){const u=A;S(t);const d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:i.context||[]),callbacks:n(),dirty:s,skip_bound:!1};let f=!1;if(d.ctx=o?o(t,i.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&l(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),f&&te(t,e)),n})):[],d.update(),f=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);d.fragment&&d.fragment.l(e),e.forEach(h)}else d.fragment&&d.fragment.c();i.intro&&Y(t.$$.fragment),Z(t,i.target,i.anchor,i.customElement),F()}S(u)}class re{$destroy(){ee(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ie={sex:{label:"Sex",code:"SEX",options:[{label:"people of any sex",code:null},{label:"males",code:"1",name:"Male"},{label:"females",code:"2",name:"Female"}]},age:{label:"Age of individual (6 categories)",code:"AGE_T007A",options:[{label:"any age",code:null},{label:"0-15",code:"0-15",name:"0-15"},{label:"16-24",code:"16-24",name:"16-24"},{label:"25-34",code:"25-34",name:"25-34"},{label:"35-49",code:"35-49",name:"35-49"},{label:"50-64",code:"50-64",name:"50-64"},{label:"65+",code:"65-90",name:"65+"}]},ethnicity:{label:"Ethnic group (6 categories)",code:"ETHPUK11_T006A",options:[{label:"any",code:null},{label:"white",code:"1-4",name:"White"},{label:"black",code:"14-16",name:"Black"},{label:"asian",code:"9-13",name:"Asian"},{label:"mixed",code:"5-8",name:"Mixed"},{label:"other",code:"17-18",name:"Other"}]},birth:{label:"Country of birth (3 categories)",code:"COB_T003B",options:[{label:"anywhere",code:null},{label:"in the UK",code:"1-5",name:"Born in UK"},{label:"outside the UK",code:"6-26",name:"Born outside UK"}]}},oe=[{label:"Health",key:"health"},{label:"Education",key:"education"},{label:"Employment",key:"employment"}],ae={"Not applicable":"N/A","No qualifications":"No qualifications","Highest level of qualification: Level 1, 2 or 3 qualifications":"Secondary-level","Highest level of qualification: Level 4 qualifications and above":"Degree-level","Apprenticeships and other qualifications":"Vocational","Very good health":"Very good","Good health":"Good","Fair health":"Fair","Bad health":"Bad","Very bad health":"Very bad","Economically active: Employee":"Employee","Economically active: Self-employed":"Self-employed","Economically active: Unemployed":"Unemployed","Economically active: Full-time student":"Full-time student","Economically inactive":"Inactive",White:"White","Mixed/multiple ethnic group":"Mixed","Asian/Asian British":"Asian","Black/African/Caribbean/Black British":"Black","Other ethnic group":"Other",Male:"Male",Female:"Female","Age 0 to 15":"0-15","Age 16 to 24":"16-24","Age 25 to 34":"25-34","Age 35 to 49":"35-49","Age 50 to 64":"50-64","Age 65 and over":"65+","Born in the UK":"Born in UK","Born outside the UK":"Born outside UK"},le="\nfragment tableDimensions on Table {\n  dimensions {\n    count\n    categories {\n      code\n      label\n    }\n    variable {\n      name\n      label\n    }\n  }\n}\n".replace(/\s+/g," ");async function ce(e,t,n=[]){const r=n[0]?'"'+n.join('","')+'",':"";let i=[];t.forEach((t=>{n.includes(e[t].code)&&i.push(`{variable: "${e[t].code}", codes: ${'["'+e[t].options.filter((e=>null!=e.code)).map((e=>e.code)).join('","')+'"]'}}`)})),i=i[0]?"["+i.join(",")+"]":"[]";const o=`\n  query {\n    dataset(name:"Usual-Residents") {\n      health: table(\n        variables: [${r}"HEALTH"]\n        filters: ${i}\n      )\n      {\n        ...tableDimensions\n        values\n      }\n      employment: table(\n        variables: [${r}"ECOPUK11_R006A"]\n        filters: ${i}\n      )\n      {\n        ...tableDimensions\n        values\n      }\n      education: table(\n        variables: [${r}"HLQPUK11_R005A"]\n        filters: ${i}\n      )\n      {\n        ...tableDimensions\n        values\n      }\n    }\n  }\n  `.replace(/\s+/g," "),a=new Headers({"Content-Type":"application/json",Authorization:"Basic "+btoa("ahmad.barclay:elope.puck.hails.explore")}),l={body:JSON.stringify({query:o+le}),headers:a,method:"POST",mode:"cors"};let c=await fetch("https://ftb-api-ext.ons.sensiblecode.io/graphql",l);return await c.json()}const se=[];function ue(t,n=e){let r;const i=[];function a(e){if(o(t,e)&&(t=e,r)){const e=!se.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),se.push(n,t)}if(e){for(let e=0;e<se.length;e+=2)se[e][0](se[e+1]);se.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(o,l=e){const c=[o,l];return i.push(c),1===i.length&&(r=n(a)||e),o(t),()=>{const e=i.indexOf(c);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}function de(t,n,o){const l=!Array.isArray(t),c=l?[t]:t,s=n.length<2;return{subscribe:ue(o,(t=>{let o=!1;const u=[];let d=0,f=e;const h=()=>{if(d)return;f();const r=n(l?u[0]:u,t);s?t(r):f=i(r)?r:e},g=c.map(((e,t)=>a(e,(e=>{u[t]=e,d&=~(1<<t),o&&h()}),(()=>{d|=1<<t}))));return o=!0,h(),function(){r(g),f()}})).subscribe}}function fe(e){return 0===(t=e)||t?Array.isArray(e)?t=>e.map((e=>"function"!=typeof e?t[e]:e(t))):"function"!=typeof e?t=>t[e]:e:null;var t}function he(e){return function(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:e,1:r}=n;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}(Object.entries(e).filter((([e,t])=>void 0!==t)))}function ge(e,t){if(!Array.isArray(e)||0===e.length)return null;const n={},r=t.length;let i,o,a,l,c;if(!r)return null;{for(i=0;i<r;i+=1){const r=t[i].accessor(e[0]);null==r||!0===Number.isNaN(r)?n[t[i].field]=[1/0,-1/0]:n[t[i].field]=Array.isArray(r)?r:[r,r]}const s=e.length;for(i=0;i<s;i+=1)for(o=0;o<r;o+=1)if(a=t[o],l=a.accessor(e[i]),c=a.field,Array.isArray(l)){const e=l.length;for(let t=0;t<e;t+=1)void 0!==l[t]&&null!==l[t]&&!1===Number.isNaN(l[t])&&(l[t]<n[c][0]&&(n[c][0]=l[t]),l[t]>n[c][1]&&(n[c][1]=l[t]))}else null!=l&&!1===Number.isNaN(l)&&(l<n[c][0]&&(n[c][0]=l),l>n[c][1]&&(n[c][1]=l))}return n}function pe(e=[],t){return!0===Array.isArray(t)?t.map(((t,n)=>null===t?e[n]:t)):e}function me(e){return function([t,n]){return t?pe(t[e],n):n}}function ye(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function be(e){let t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>ye(e(t),n)}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);const a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}const ve=be(ye).right;be((function(e){return null===e?NaN:+e})).center;var xe=Math.sqrt(50),$e=Math.sqrt(10),we=Math.sqrt(2);function ke(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=xe?10:o>=$e?5:o>=we?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=xe?10:o>=$e?5:o>=we?2:1)}function Me(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ne(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ze(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ae(){}var Re=.7,Ee=1/Re,Se="\\s*([+-]?\\d+)\\s*",Te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_e="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",De=/^#([0-9a-f]{3,8})$/,Ce=new RegExp("^rgb\\("+[Se,Se,Se]+"\\)$"),Le=new RegExp("^rgb\\("+[_e,_e,_e]+"\\)$"),Pe=new RegExp("^rgba\\("+[Se,Se,Se,Te]+"\\)$"),je=new RegExp("^rgba\\("+[_e,_e,_e,Te]+"\\)$"),qe=new RegExp("^hsl\\("+[Te,_e,_e]+"\\)$"),Be=new RegExp("^hsla\\("+[Te,_e,_e,Te]+"\\)$"),He={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Oe(){return this.rgb().formatHex()}function We(){return this.rgb().formatRgb()}function Fe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=De.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ue(t):3===n?new Ve(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ie(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ie(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ce.exec(e))?new Ve(t[1],t[2],t[3],1):(t=Le.exec(e))?new Ve(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Pe.exec(e))?Ie(t[1],t[2],t[3],t[4]):(t=je.exec(e))?Ie(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=qe.exec(e))?Qe(t[1],t[2]/100,t[3]/100,1):(t=Be.exec(e))?Qe(t[1],t[2]/100,t[3]/100,t[4]):He.hasOwnProperty(e)?Ue(He[e]):"transparent"===e?new Ve(NaN,NaN,NaN,0):null}function Ue(e){return new Ve(e>>16&255,e>>8&255,255&e,1)}function Ie(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ve(e,t,n,r)}function Ge(e){return e instanceof Ae||(e=Fe(e)),e?new Ve((e=e.rgb()).r,e.g,e.b,e.opacity):new Ve}function Ke(e,t,n,r){return 1===arguments.length?Ge(e):new Ve(e,t,n,null==r?1:r)}function Ve(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ye(){return"#"+Je(this.r)+Je(this.g)+Je(this.b)}function Xe(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Je(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Qe(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new et(e,t,n,r)}function Ze(e){if(e instanceof et)return new et(e.h,e.s,e.l,e.opacity);if(e instanceof Ae||(e=Fe(e)),!e)return new et;if(e instanceof et)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,c=(o+i)/2;return l?(a=t===o?(n-r)/l+6*(n<r):n===o?(r-t)/l+2:(t-n)/l+4,l/=c<.5?o+i:2-o-i,a*=60):l=c>0&&c<1?0:a,new et(a,l,c,e.opacity)}function et(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Ne(Ae,Fe,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Oe,formatHex:Oe,formatHsl:function(){return Ze(this).formatHsl()},formatRgb:We,toString:We}),Ne(Ve,Ke,ze(Ae,{brighter:function(e){return e=null==e?Ee:Math.pow(Ee,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Re:Math.pow(Re,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ye,formatHex:Ye,formatRgb:Xe,toString:Xe})),Ne(et,(function(e,t,n,r){return 1===arguments.length?Ze(e):new et(e,t,n,null==r?1:r)}),ze(Ae,{brighter:function(e){return e=null==e?Ee:Math.pow(Ee,e),new et(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Re:Math.pow(Re,e),new et(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ve(tt(e>=240?e-240:e+120,i,r),tt(e,i,r),tt(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var nt=e=>()=>e;function rt(e){return 1==(e=+e)?it:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):nt(isNaN(t)?n:t)}}function it(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):nt(isNaN(e)?t:e)}var ot=function e(t){var n=rt(t);function r(e,t){var r=n((e=Ke(e)).r,(t=Ke(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=it(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function at(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function lt(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=gt(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function ct(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function st(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ut(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=gt(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var dt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ft=new RegExp(dt.source,"g");function ht(e,t){var n,r,i,o=dt.lastIndex=ft.lastIndex=0,a=-1,l=[],c=[];for(e+="",t+="";(n=dt.exec(e))&&(r=ft.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,c.push({i:a,x:st(n,r)})),o=ft.lastIndex;return o<t.length&&(i=t.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)l[(n=c[r]).i]=n.x(e);return l.join("")})}function gt(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?nt(t):("number"===i?st:"string"===i?(n=Fe(t))?(t=n,ot):ht:t instanceof Fe?ot:t instanceof Date?ct:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?lt:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ut:st:at))(e,t)}function pt(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function mt(e){return+e}var yt=[0,1];function bt(e){return e}function vt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function xt(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=vt(i,r),o=n(a,o)):(r=vt(r,i),o=n(o,a)),function(e){return o(r(e))}}function $t(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=vt(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=ve(e,t,1,r)-1;return o[n](i[n](t))}}function wt(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kt(){var e,t,n,r,i,o,a=yt,l=yt,c=gt,s=bt;function u(){var e,t,n,c=Math.min(a.length,l.length);return s!==bt&&(e=a[0],t=a[c-1],e>t&&(n=e,e=t,t=n),s=function(n){return Math.max(e,Math.min(t,n))}),r=c>2?$t:xt,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),l,c)))(e(s(t)))}return d.invert=function(n){return s(t((o||(o=r(l,a.map(e),st)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,mt),u()):a.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),u()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),c=pt,u()},d.clamp=function(e){return arguments.length?(s=!!e||bt,u()):s!==bt},d.interpolate=function(e){return arguments.length?(c=e,u()):c},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Mt(){return kt()(bt,bt)}function Nt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function zt(e){return(e=Nt(Math.abs(e)))?e[1]:NaN}var At,Rt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Et(e){if(!(t=Rt.exec(e)))throw new Error("invalid format: "+e);var t;return new St({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function St(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Tt(e,t){var n=Nt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Et.prototype=St.prototype,St.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var _t={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Tt(100*e,t),r:Tt,s:function(e,t){var n=Nt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(At=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Nt(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Dt(e){return e}var Ct,Lt,Pt,jt=Array.prototype.map,qt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Bt(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Dt:(t=jt.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(e.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?Dt:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(jt.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Et(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,g=e.width,p=e.comma,m=e.precision,y=e.trim,b=e.type;"n"===b?(p=!0,b="g"):_t[b]||(void 0===m&&(m=12),y=!0,b="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var v="$"===f?i:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===f?o:/[%p]/.test(b)?c:"",$=_t[b],w=/[defgprs%]/.test(b);function k(e){var i,o,c,f=v,k=x;if("c"===b)k=$(e)+k,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:$(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==d&&(M=!1),f=(M?"("===d?d:s:"-"===d||"("===d?"":d)+f,k=("s"===b?qt[8+At/3]:"")+k+(M&&"("===d?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){k=(46===c?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}p&&!h&&(e=r(e,1/0));var N=f.length+e.length+k.length,z=N<g?new Array(g-N+1).join(t):"";switch(p&&h&&(e=r(z+e,z.length?g-k.length:1/0),z=""),n){case"<":e=f+e+k+z;break;case"=":e=f+z+e+k;break;case"^":e=z.slice(0,N=z.length>>1)+f+e+k+z.slice(N);break;default:e=z+f+e+k}return l(e)}return m=void 0===m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=Et(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(zt(t)/3))),i=Math.pow(10,-r),o=qt[8+r/3];return function(e){return n(i*e)+o}}}}function Ht(e,t,n,r){var i,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=xe?i*=10:o>=$e?i*=5:o>=we&&(i*=2),t<e?-i:i}(e,t,n);switch((r=Et(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(zt(t)/3)))-zt(Math.abs(e)))}(o,a))||(r.precision=i),Pt(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zt(t)-zt(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-zt(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Lt(r)}function Ot(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,i,o,a,l=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=ke(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,o=new Array(i=r-n+1);++l<i;)o[l]=(n+l)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,o=new Array(i=r-n+1);++l<i;)o[l]=(n+l)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Ht(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,l=o.length-1,c=o[a],s=o[l],u=10;for(s<c&&(i=c,c=s,s=i,i=a,a=l,l=i);u-- >0;){if((i=ke(c,s,n))===r)return o[a]=c,o[l]=s,t(o);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return e},e}function Wt(){var e=Mt();return e.copy=function(){return wt(e,Wt())},Me.apply(e,arguments),Ot(e)}function Ft(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ut(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function It(e){return e<0?-e*e:e*e}function Gt(e){var t=e(bt,bt),n=1;function r(){return 1===n?e(bt,bt):.5===n?e(Ut,It):e(Ft(n),Ft(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Ot(t)}function Kt(){var e=Gt(kt());return e.copy=function(){return wt(e,Kt()).exponent(e.exponent())},Me.apply(e,arguments),e}Ct=Bt({thousands:",",grouping:[3],currency:["$",""]}),Lt=Ct.format,Pt=Ct.formatPrefix;var Vt={x:Wt,y:Wt,z:Wt,r:function(){return Kt.apply(null,arguments).exponent(.5)}};function Yt(e){return e}function Xt(e){return t=>Math.log(e*t)}function Jt(e){return t=>e*Math.exp(t)}function Qt(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Zt(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function en(e,t){if("function"!=typeof e.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof e.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t))return e.domain();2!==e.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",e.domain()),2!==e.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",e.range());const{lift:n,ground:r}=function(e){const t=function(e){return e.constant?"symlog":e.base?"log":e.exponent?.5===e.exponent()?"sqrt":"pow":"other"}(e);if("log"===t){const n=Math.sign(e.domain()[0]);return{lift:Xt(n),ground:Jt(n),scaleType:t}}if("pow"===t){const e=1;return{lift:Zt(e),ground:Zt(1/e),scaleType:t}}if("sqrt"===t){const e=.5;return{lift:Zt(e),ground:Zt(1/e),scaleType:t}}if("symlog"===t){const e=1;return{lift:(n=e,e=>Math.sign(e)*Math.log1p(Math.abs(e/n))),ground:Qt(e),scaleType:t}}var n;return{lift:Yt,ground:Yt,scaleType:t}}(e),i=e.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,l]=e.domain().map((e=>n(o?e.getTime():e))),[c,s]=e.range(),u=t[0]||0,d=t[1]||0,f=(l-a)/(Math.abs(s-c)-u-d);return[a-u*f,d*f+l].map((e=>r(o?new Date(e):e)))}function tn(e){return function([t,n,r,i,o,a,l,c,s,u]){if(null===n)return null;const d=function(e,t,n,r,i,o){return i?"function"==typeof i?i({width:t,height:n}):i:function(e,t,n,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===e?1:0,a="y"===e?n:"r"===e?25:t),!0===r?[a,o]:[o,a]}(e,t,n,r,o)}(e,l,c,a,s,u),f=t===Vt[e]?t():t.copy();return f.domain(pe(n[e],r)).range(d),i&&f.domain(en(f,i)),!0===o&&("function"==typeof f.nice?f.nice():console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),f}}function nn([e,t]){return n=>{const r=e(n);return Array.isArray(r)?r.map((e=>t(e))):t(r)}}function rn([e]){if("function"==typeof e){if("function"==typeof e.range)return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var on={x:!1,y:!0,z:!1,r:!1};const an=e=>({element:4&e[0],width:64&e[0],height:128&e[0],aspectRatio:256&e[0],containerWidth:512&e[0],containerHeight:1024&e[0]}),ln=e=>({element:e[2],width:e[6],height:e[7],aspectRatio:e[8],containerWidth:e[9],containerHeight:e[10]});function cn(e){let t,n,r,i;const o=e[54].default,a=c(o,e,e[53],ln);return{c(){t=p("div"),a&&a.c(),$(t,"class","layercake-container svelte-vhzpsp"),$(t,"style",n="\n\t\t\tposition:"+e[5]+";\n\t\t\t"+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===e[4]?"pointer-events:none;":"")+"\n\t\t"),B((()=>e[56].call(t)))},m(n,o){f(n,t,o),a&&a.m(t,null),e[55](t),r=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=p("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=R();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=x(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=x(n.contentWindow,"resize",t)}),d(e,n),()=>{(r||i&&n.contentWindow)&&i(),h(n)}}(t,e[56].bind(t)),i=!0},p(e,r){a&&a.p&&(!i||1988&r[0]|4194304&r[1])&&u(a,o,e,e[53],r,an,ln),(!i||48&r[0]&&n!==(n="\n\t\t\tposition:"+e[5]+";\n\t\t\t"+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===e[4]?"pointer-events:none;":"")+"\n\t\t"))&&$(t,"style",n)},i(e){i||(Y(a,e),i=!0)},o(e){X(a,e),i=!1},d(n){n&&h(t),a&&a.d(n),e[55](null),r()}}}function sn(e){let t,n,r=(!0===e[3]||"undefined"!=typeof window)&&cn(e);return{c(){r&&r.c(),t=v()},m(e,i){r&&r.m(e,i),f(e,t,i),n=!0},p(e,n){!0===e[3]||"undefined"!=typeof window?r?(r.p(e,n),8&n[0]&&Y(r,1)):(r=cn(e),r.c(),Y(r,1),r.m(t.parentNode,t)):r&&(K(),X(r,1,1,(()=>{r=null})),V())},i(e){n||(Y(r),n=!0)},o(e){X(r),n=!1},d(e){r&&r.d(e),e&&h(t)}}}function un(e,t,n){let r,i,o,a,c,s,{$$slots:u={},$$scope:d}=t,{ssr:f=!1}=t,{pointerEvents:h=!0}=t,{position:g="relative"}=t,{percentRange:p=!1}=t,{width:m}=t,{height:y}=t,{containerWidth:b=m||100}=t,{containerHeight:v=y||100}=t,{element:x}=t,{x:$}=t,{y:w}=t,{z:k}=t,{r:M}=t,{custom:N={}}=t,{data:z=[]}=t,{xDomain:A}=t,{yDomain:R}=t,{zDomain:E}=t,{rDomain:S}=t,{xNice:_=!1}=t,{yNice:D=!1}=t,{zNice:L=!1}=t,{rNice:P=!1}=t,{xReverse:j=on.x}=t,{yReverse:q=on.y}=t,{zReverse:B=on.z}=t,{rReverse:H=on.r}=t,{xPadding:O}=t,{yPadding:W}=t,{zPadding:F}=t,{rPadding:U}=t,{xScale:I=Vt.x}=t,{yScale:G=Vt.y}=t,{zScale:K=Vt.y}=t,{rScale:V=Vt.r}=t,{xRange:Y}=t,{yRange:X}=t,{zRange:J}=t,{rRange:Q}=t,{padding:Z={}}=t,{extents:ee={}}=t,{flatData:te}=t;const ne={},re=ue(),ie=ue();l(e,ie,(e=>n(9,c=e)));const oe=ue();l(e,oe,(e=>n(10,s=e)));const ae=ue(),le=ue(),ce=ue(),se=ue(),pe=ue(),ye=ue(),be=ue(),ve=ue(),xe=ue(),$e=ue(),we=ue(),ke=ue(),Me=ue(),Ne=ue(),ze=ue(),Ae=ue(),Re=ue(),Ee=ue(),Se=ue(),Te=ue(),_e=ue(),De=ue(),Ce=ue(),Le=ue(),Pe=ue(),je=ue(),qe=ue(),Be=ue(),He=ue(),Oe=ue(),We=ue(),Fe=ue(),Ue=ue(),Ie=ue(ne),Ge=de([ae,le,ce,se],(([e,t,n,r])=>[{field:"x",accessor:e},{field:"y",accessor:t},{field:"z",accessor:n},{field:"r",accessor:r}].filter((e=>e.accessor)))),Ke=de([We,ie,oe],(([e])=>Object.assign({top:0,right:0,bottom:0,left:0},e))),Ve=de([ie,oe,Ke],(([e,t,n])=>{const r={};return r.top=n.top,r.right=e-n.right,r.bottom=t-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Ye=de([Ve],(([e])=>e.width));l(e,Ye,(e=>n(6,i=e)));const Xe=de([Ve],(([e])=>e.height));l(e,Xe,(e=>n(7,o=e)));const Je=de([Fe,Ge,Ue],(([e,t,n])=>({...ge(e,t.filter((e=>!n[e.field]))),...n}))),Qe=de([Je,be],me("x")),Ze=de([Je,ve],me("y")),et=de([Je,xe],me("z")),tt=de([Je,$e],me("r")),nt=de([Ce,Je,Qe,Se,we,ze,Ye,Xe,qe,re],tn("x")),rt=de([ae,nt],nn),it=de([Le,Je,Ze,Te,ke,Ae,Ye,Xe,Be,re],tn("y")),ot=de([le,it],nn),at=de([Pe,Je,et,_e,Me,Re,Ye,Xe,He,re],tn("z")),lt=de([ce,at],nn),ct=de([je,Je,tt,De,Ne,Ee,Ye,Xe,Oe,re],tn("r")),st=de([se,ct],nn),ut=de([nt],rn),dt=de([it],rn),ft=de([at],rn),ht=de([ct],rn),gt=de([Ye,Xe],(([e,t,n])=>t/n));return l(e,gt,(e=>n(8,a=e))),e.$$set=e=>{"ssr"in e&&n(3,f=e.ssr),"pointerEvents"in e&&n(4,h=e.pointerEvents),"position"in e&&n(5,g=e.position),"percentRange"in e&&n(16,p=e.percentRange),"width"in e&&n(17,m=e.width),"height"in e&&n(18,y=e.height),"containerWidth"in e&&n(0,b=e.containerWidth),"containerHeight"in e&&n(1,v=e.containerHeight),"element"in e&&n(2,x=e.element),"x"in e&&n(19,$=e.x),"y"in e&&n(20,w=e.y),"z"in e&&n(21,k=e.z),"r"in e&&n(22,M=e.r),"custom"in e&&n(23,N=e.custom),"data"in e&&n(24,z=e.data),"xDomain"in e&&n(25,A=e.xDomain),"yDomain"in e&&n(26,R=e.yDomain),"zDomain"in e&&n(27,E=e.zDomain),"rDomain"in e&&n(28,S=e.rDomain),"xNice"in e&&n(29,_=e.xNice),"yNice"in e&&n(30,D=e.yNice),"zNice"in e&&n(31,L=e.zNice),"rNice"in e&&n(32,P=e.rNice),"xReverse"in e&&n(33,j=e.xReverse),"yReverse"in e&&n(34,q=e.yReverse),"zReverse"in e&&n(35,B=e.zReverse),"rReverse"in e&&n(36,H=e.rReverse),"xPadding"in e&&n(37,O=e.xPadding),"yPadding"in e&&n(38,W=e.yPadding),"zPadding"in e&&n(39,F=e.zPadding),"rPadding"in e&&n(40,U=e.rPadding),"xScale"in e&&n(41,I=e.xScale),"yScale"in e&&n(42,G=e.yScale),"zScale"in e&&n(43,K=e.zScale),"rScale"in e&&n(44,V=e.rScale),"xRange"in e&&n(45,Y=e.xRange),"yRange"in e&&n(46,X=e.yRange),"zRange"in e&&n(47,J=e.zRange),"rRange"in e&&n(48,Q=e.rRange),"padding"in e&&n(49,Z=e.padding),"extents"in e&&n(50,ee=e.extents),"flatData"in e&&n(51,te=e.flatData),"$$scope"in e&&n(53,d=e.$$scope)},e.$$.update=()=>{524288&e.$$.dirty[0]&&$&&(ne.x=$),1048576&e.$$.dirty[0]&&w&&(ne.y=w),2097152&e.$$.dirty[0]&&k&&(ne.z=k),4194304&e.$$.dirty[0]&&M&&(ne.r=M),33554432&e.$$.dirty[0]&&A&&(ne.xDomain=A),67108864&e.$$.dirty[0]&&R&&(ne.yDomain=R),134217728&e.$$.dirty[0]&&E&&(ne.zDomain=E),268435456&e.$$.dirty[0]&&S&&(ne.rDomain=S),16384&e.$$.dirty[1]&&Y&&(ne.xRange=Y),32768&e.$$.dirty[1]&&X&&(ne.yRange=X),65536&e.$$.dirty[1]&&J&&(ne.zRange=J),131072&e.$$.dirty[1]&&Q&&(ne.rRange=Q),65536&e.$$.dirty[0]&&re.set(p),1&e.$$.dirty[0]&&ie.set(b),2&e.$$.dirty[0]&&oe.set(v),524288&e.$$.dirty[0]&&ae.set(fe($)),1048576&e.$$.dirty[0]&&le.set(fe(w)),2097152&e.$$.dirty[0]&&ce.set(fe(k)),4194304&e.$$.dirty[0]&&se.set(fe(M)),33554432&e.$$.dirty[0]&&be.set(A),67108864&e.$$.dirty[0]&&ve.set(R),134217728&e.$$.dirty[0]&&xe.set(E),268435456&e.$$.dirty[0]&&$e.set(S),8388608&e.$$.dirty[0]&&pe.set(N),16777216&e.$$.dirty[0]&&ye.set(z),536870912&e.$$.dirty[0]&&we.set(_),1073741824&e.$$.dirty[0]&&ke.set(D),1&e.$$.dirty[1]&&Me.set(L),2&e.$$.dirty[1]&&Ne.set(P),4&e.$$.dirty[1]&&ze.set(j),8&e.$$.dirty[1]&&Ae.set(q),16&e.$$.dirty[1]&&Re.set(B),32&e.$$.dirty[1]&&Ee.set(H),64&e.$$.dirty[1]&&Se.set(O),128&e.$$.dirty[1]&&Te.set(W),256&e.$$.dirty[1]&&_e.set(F),512&e.$$.dirty[1]&&De.set(U),1024&e.$$.dirty[1]&&Ce.set(I),2048&e.$$.dirty[1]&&Le.set(G),4096&e.$$.dirty[1]&&Pe.set(K),8192&e.$$.dirty[1]&&je.set(V),16384&e.$$.dirty[1]&&qe.set(Y),32768&e.$$.dirty[1]&&Be.set(X),65536&e.$$.dirty[1]&&He.set(J),131072&e.$$.dirty[1]&&Oe.set(Q),262144&e.$$.dirty[1]&&We.set(Z),524288&e.$$.dirty[1]&&Ue.set(he(ee)),16777216&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&Fe.set(te||z),2097152&e.$$.dirty[1]&&function(e,t){T().$$.context.set(e,t)}("LayerCake",r)},n(52,r={activeGetters:Ge,width:Ye,height:Xe,percentRange:re,aspectRatio:gt,containerWidth:ie,containerHeight:oe,x:ae,y:le,z:ce,r:se,custom:pe,data:ye,xNice:we,yNice:ke,zNice:Me,rNice:Ne,xReverse:ze,yReverse:Ae,zReverse:Re,rReverse:Ee,xPadding:Se,yPadding:Te,zPadding:_e,rPadding:De,padding:Ke,flatData:Fe,extents:Je,xDomain:Qe,yDomain:Ze,zDomain:et,rDomain:tt,xRange:ut,yRange:dt,zRange:ft,rRange:ht,config:Ie,xScale:nt,xGet:rt,yScale:it,yGet:ot,zScale:at,zGet:lt,rScale:ct,rGet:st}),[b,v,x,f,h,g,i,o,a,c,s,ie,oe,Ye,Xe,gt,p,m,y,$,w,k,M,N,z,A,R,E,S,_,D,L,P,j,q,B,H,O,W,F,U,I,G,K,V,Y,X,J,Q,Z,ee,te,r,d,u,function(e){C[e?"unshift":"push"]((()=>{x=e,n(2,x)}))},function(){b=this.clientWidth,v=this.clientHeight,n(0,b),n(1,v)}]}class dn extends re{constructor(e){super(),ne(this,e,un,sn,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},[-1,-1,-1,-1])}}const fn=e=>({element:1&e}),hn=e=>({element:e[0]}),gn=e=>({element:1&e}),pn=e=>({element:e[0]});function mn(e){let t,n,r,i,o,a;const l=e[13].defs,s=c(l,e,e[12],pn),g=e[13].default,p=c(g,e,e[12],hn);return{c(){t=m("svg"),n=m("defs"),s&&s.c(),r=m("g"),p&&p.c(),$(r,"class","layercake-layout-svg_g"),$(r,"transform",i="translate("+e[6].left+", "+e[6].top+")"),$(t,"class","layercake-layout-svg svelte-u84d8d"),$(t,"viewBox",e[1]),$(t,"width",e[4]),$(t,"height",e[5]),$(t,"style",o=""+(e[2]+e[3]))},m(i,o){f(i,t,o),d(t,n),s&&s.m(n,null),d(t,r),p&&p.m(r,null),e[14](t),a=!0},p(e,[n]){s&&s.p&&(!a||4097&n)&&u(s,l,e,e[12],n,gn,pn),p&&p.p&&(!a||4097&n)&&u(p,g,e,e[12],n,fn,hn),(!a||64&n&&i!==(i="translate("+e[6].left+", "+e[6].top+")"))&&$(r,"transform",i),(!a||2&n)&&$(t,"viewBox",e[1]),(!a||16&n)&&$(t,"width",e[4]),(!a||32&n)&&$(t,"height",e[5]),(!a||12&n&&o!==(o=""+(e[2]+e[3])))&&$(t,"style",o)},i(e){a||(Y(s,e),Y(p,e),a=!0)},o(e){X(s,e),X(p,e),a=!1},d(n){n&&h(t),s&&s.d(n),p&&p.d(n),e[14](null)}}}function yn(e,t,n){let r,i,o,{$$slots:a={},$$scope:c}=t,{element:s}=t,{viewBox:u}=t,{zIndex:d}=t,{pointerEvents:f}=t,h="",g="";const{containerWidth:p,containerHeight:m,padding:y}=_("LayerCake");return l(e,p,(e=>n(4,r=e))),l(e,m,(e=>n(5,i=e))),l(e,y,(e=>n(6,o=e))),e.$$set=e=>{"element"in e&&n(0,s=e.element),"viewBox"in e&&n(1,u=e.viewBox),"zIndex"in e&&n(10,d=e.zIndex),"pointerEvents"in e&&n(11,f=e.pointerEvents),"$$scope"in e&&n(12,c=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(2,h=void 0!==d?`z-index:${d};`:""),2048&e.$$.dirty&&n(3,g=!1===f?"pointer-events:none;":"")},[s,u,h,g,r,i,o,p,m,y,d,f,c,a,function(e){C[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class bn extends re{constructor(e){super(),ne(this,e,yn,mn,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function vn(e,t,n){const r=e.slice();return r[18]=t[n],r}function xn(e,t,n){const r=e.slice();return r[18]=t[n],r}function $n(e,t,n){const r=e.slice();return r[23]=t[n],r}function wn(e){let t,n,i,o,a,l,c,s,u,d,g,p;function y(){return e[12](e[23])}function b(){return e[13](e[23])}return{c(){t=m("line"),l=m("line"),$(t,"x1",n=e[4](e[23])),$(t,"x2",i=e[4](e[23])),$(t,"y1",o=e[5](e[11])),$(t,"y2",a=e[5](e[10])),$(t,"stroke","grey"),$(t,"stroke-width","0.5"),$(t,"stroke-linecap","butt"),$(l,"x1",c=e[4](e[23])),$(l,"x2",s=e[4](e[23])),$(l,"y1",u=e[5](e[11])),$(l,"y2",d=e[5](e[10])),$(l,"stroke","#ffffff00"),$(l,"stroke-width","6"),$(l,"stroke-linecap","butt")},m(e,n){f(e,t,n),f(e,l,n),g||(p=[x(l,"mouseenter",y),x(l,"click",b)],g=!0)},p(r,f){e=r,24&f&&n!==(n=e[4](e[23]))&&$(t,"x1",n),24&f&&i!==(i=e[4](e[23]))&&$(t,"x2",i),32&f&&o!==(o=e[5](e[11]))&&$(t,"y1",o),32&f&&a!==(a=e[5](e[10]))&&$(t,"y2",a),24&f&&c!==(c=e[4](e[23]))&&$(l,"x1",c),24&f&&s!==(s=e[4](e[23]))&&$(l,"x2",s),32&f&&u!==(u=e[5](e[11]))&&$(l,"y1",u),32&f&&d!==(d=e[5](e[10]))&&$(l,"y2",d)},d(e){e&&h(t),e&&h(l),g=!1,r(p)}}}function kn(e){let t,n=e[3].filter(e[15]),r=[];for(let t=0;t<n.length;t+=1)r[t]=Mn(xn(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=v()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);f(e,t,n)},p(e,i){if(3129&i){let o;for(n=e[3].filter(e[15]),o=0;o<n.length;o+=1){const a=xn(e,n,o);r[o]?r[o].p(a,i):(r[o]=Mn(a),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){g(r,e),e&&h(t)}}}function Mn(e){let t,n,r,i,o,a;return{c(){t=m("g"),n=m("line"),$(n,"x1",r=e[4](e[18])),$(n,"x2",i=e[4](e[18])),$(n,"y1",o=e[5](e[11])),$(n,"y2",a=e[5](e[10])),$(n,"stroke","black"),$(n,"stroke-width","2"),$(n,"stroke-linecap","butt"),$(t,"class","markers-selected svelte-1pednoq")},m(e,r){f(e,t,r),d(t,n)},p(e,t){25&t&&r!==(r=e[4](e[18]))&&$(n,"x1",r),25&t&&i!==(i=e[4](e[18]))&&$(n,"x2",i),32&t&&o!==(o=e[5](e[11]))&&$(n,"y1",o),32&t&&a!==(a=e[5](e[10]))&&$(n,"y2",a)},d(e){e&&h(t)}}}function Nn(e){let t,n=e[3].filter(e[16]),r=[];for(let t=0;t<n.length;t+=1)r[t]=An(vn(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=v()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);f(e,t,n)},p(e,i){if(3134&i){let o;for(n=e[3].filter(e[16]),o=0;o<n.length;o+=1){const a=vn(e,n,o);r[o]?r[o].p(a,i):(r[o]=An(a),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){g(r,e),e&&h(t)}}}function zn(e){let t,n,r,i,o=e[18].label+"";return{c(){t=m("text"),n=y(o),$(t,"x",r=e[4](e[18])+10),$(t,"y",i=e[5]((e[10]+e[11])/2)+2),$(t,"text-anchor","start"),$(t,"dominant-baseline","middle"),$(t,"filter","url(#solid)")},m(e,r){f(e,t,r),d(t,n)},p(e,a){10&a&&o!==(o=e[18].label+"")&&w(n,o),26&a&&r!==(r=e[4](e[18])+10)&&$(t,"x",r),32&a&&i!==(i=e[5]((e[10]+e[11])/2)+2)&&$(t,"y",i)},d(e){e&&h(t)}}}function An(e){let t,n,r,i,o,a,l=e[2]&&zn(e);return{c(){t=m("g"),n=m("line"),l&&l.c(),$(n,"x1",r=e[4](e[18])),$(n,"x2",i=e[4](e[18])),$(n,"y1",o=e[5](e[11])),$(n,"y2",a=e[5](e[10])),$(n,"stroke","orange"),$(n,"stroke-width","2"),$(n,"stroke-linecap","butt"),$(t,"class","markers-selected svelte-1pednoq")},m(e,r){f(e,t,r),d(t,n),l&&l.m(t,null)},p(e,c){26&c&&r!==(r=e[4](e[18]))&&$(n,"x1",r),26&c&&i!==(i=e[4](e[18]))&&$(n,"x2",i),32&c&&o!==(o=e[5](e[11]))&&$(n,"y1",o),32&c&&a!==(a=e[5](e[10]))&&$(n,"y2",a),e[2]?l?l.p(e,c):(l=zn(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(e){e&&h(t),l&&l.d()}}}function Rn(t){let n,r,i,o,a,l,c,s,u,p,y,w,k,M=t[3],N=[];for(let e=0;e<M.length;e+=1)N[e]=wn($n(t,M,e));let z=t[0]&&kn(t),A=t[1]&&Nn(t);return{c(){n=m("defs"),r=m("filter"),i=m("feFlood"),o=m("feMerge"),a=m("feMergeNode"),l=m("feMergeNode"),c=b(),s=m("g");for(let e=0;e<N.length;e+=1)N[e].c();u=b(),z&&z.c(),p=b(),A&&A.c(),y=v(),$(i,"flood-color","#ffffffdd"),$(i,"result","bg"),$(a,"in","bg"),$(l,"in","SourceGraphic"),$(r,"x","0"),$(r,"y","0"),$(r,"width","1"),$(r,"height","1"),$(r,"id","solid"),$(s,"class","markers")},m(e,h){f(e,n,h),d(n,r),d(r,i),d(r,o),d(o,a),d(o,l),f(e,c,h),f(e,s,h);for(let e=0;e<N.length;e+=1)N[e].m(s,null);f(e,u,h),z&&z.m(e,h),f(e,p,h),A&&A.m(e,h),f(e,y,h),w||(k=x(s,"mouseleave",t[14]),w=!0)},p(e,[t]){if(3135&t){let n;for(M=e[3],n=0;n<M.length;n+=1){const r=$n(e,M,n);N[n]?N[n].p(r,t):(N[n]=wn(r),N[n].c(),N[n].m(s,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=M.length}e[0]?z?z.p(e,t):(z=kn(e),z.c(),z.m(p.parentNode,p)):z&&(z.d(1),z=null),e[1]?A?A.p(e,t):(A=Nn(e),A.c(),A.m(y.parentNode,y)):A&&(A.d(1),A=null)},i:e,o:e,d(e){e&&h(n),e&&h(c),e&&h(s),g(N,e),e&&h(u),z&&z.d(e),e&&h(p),A&&A.d(e),e&&h(y),w=!1,k()}}}function En(e,t,n){let r,i,o,a;const{data:c,xGet:s,yScale:u,yDomain:d}=_("LayerCake");l(e,c,(e=>n(3,i=e))),l(e,s,(e=>n(4,o=e))),l(e,u,(e=>n(5,a=e))),l(e,d,(e=>n(17,r=e)));let{selected:f=null}=t,{hovered:h=null}=t,g=!1,p=r[0],m=r[1];return e.$$set=e=>{"selected"in e&&n(0,f=e.selected),"hovered"in e&&n(1,h=e.hovered)},[f,h,g,i,o,a,c,s,u,d,p,m,e=>{n(1,h=e.label),n(2,g=!0)},e=>n(0,f=e.label),()=>{n(1,h=null),n(2,g=!1)},e=>e.label==f,e=>e.label==h]}class Sn extends re{constructor(e){super(),ne(this,e,En,Rn,o,{selected:0,hovered:1})}}function Tn(e,t,n){const r=e.slice();return r[27]=t[n],r[29]=n,r}function _n(e){let t,n;return{c(){t=m("line"),$(t,"y1",n=-1*e[18]),$(t,"y2",e[9]),$(t,"x1","0"),$(t,"x2","0"),$(t,"stroke",e[10]),$(t,"class","svelte-1u7vzrc"),E(t,"baseline",e[12])},m(e,n){f(e,t,n)},p(e,r){262144&r&&n!==(n=-1*e[18])&&$(t,"y1",n),512&r&&$(t,"y2",e[9]),1024&r&&$(t,"stroke",e[10]),4096&r&&E(t,"baseline",e[12])},d(e){e&&h(t)}}}function Dn(e){let t,n,r,i;function o(e,t){return e[29]==e[16].length-1?Ln:Cn}let a=o(e),l=a(e);return{c(){t=m("text"),l.c(),$(t,"x",n=e[6]||e[14]?e[15].bandwidth()/2:0),$(t,"y",r=e[3]?-1*e[18]-6:e[7]),$(t,"dx",i="start"==e[22](e[29])?e[8]-2:"end"==e[22](e[29])?e[8]+2:e[8]),$(t,"dy",e[9]),$(t,"text-anchor",e[22](e[29])),$(t,"fill",e[11])},m(e,n){f(e,t,n),l.m(t,null)},p(e,c){a===(a=o(e))&&l?l.p(e,c):(l.d(1),l=a(e),l&&(l.c(),l.m(t,null))),49216&c&&n!==(n=e[6]||e[14]?e[15].bandwidth()/2:0)&&$(t,"x",n),262280&c&&r!==(r=e[3]?-1*e[18]-6:e[7])&&$(t,"y",r),256&c&&i!==(i="start"==e[22](e[29])?e[8]-2:"end"==e[22](e[29])?e[8]+2:e[8])&&$(t,"dx",i),512&c&&$(t,"dy",e[9]),2048&c&&$(t,"fill",e[11])},d(e){e&&h(t),l.d()}}}function Cn(e){let t,n=e[1](e[27])+"";return{c(){t=y(n)},m(e,n){f(e,t,n)},p(e,r){65538&r&&n!==(n=e[1](e[27])+"")&&w(t,n)},d(e){e&&h(t)}}}function Ln(e){let t,n,r,i=e[1](e[27])+"";return{c(){t=y(e[4]),n=y(i),r=y(e[5])},m(e,i){f(e,t,i),f(e,n,i),f(e,r,i)},p(e,o){16&o&&w(t,e[4]),65538&o&&i!==(i=e[1](e[27])+"")&&w(n,i),32&o&&w(r,e[5])},d(e){e&&h(t),e&&h(n),e&&h(r)}}}function Pn(e){let t,n,r,i,o=!1!==e[0]&&_n(e),a=e[13]&&Dn(e);return{c(){t=m("g"),o&&o.c(),n=v(),a&&a.c(),$(t,"class",r="tick tick-"+e[27]+" svelte-1u7vzrc"),$(t,"transform",i="translate("+e[15](e[27])+","+e[17][0]+")")},m(e,r){f(e,t,r),o&&o.m(t,null),d(t,n),a&&a.m(t,null)},p(e,l){!1!==e[0]?o?o.p(e,l):(o=_n(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),e[13]?a?a.p(e,l):(a=Dn(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),65536&l&&r!==(r="tick tick-"+e[27]+" svelte-1u7vzrc")&&$(t,"class",r),229376&l&&i!==(i="translate("+e[15](e[27])+","+e[17][0]+")")&&$(t,"transform",i)},d(e){e&&h(t),o&&o.d(),a&&a.d()}}}function jn(e){let t;return{c(){t=m("line"),$(t,"class","baseline svelte-1u7vzrc"),$(t,"y1",e[18]),$(t,"y2","0"),$(t,"x1","0"),$(t,"x2","0"),$(t,"stroke",e[10])},m(e,n){f(e,t,n)},p(e,n){262144&n&&$(t,"y1",e[18]),1024&n&&$(t,"stroke",e[10])},d(e){e&&h(t)}}}function qn(t){let n,r,i=t[16],o=[];for(let e=0;e<i.length;e+=1)o[e]=Pn(Tn(t,i,e));let a=!0===t[2]&&jn(t);return{c(){n=m("g");for(let e=0;e<o.length;e+=1)o[e].c();r=v(),a&&a.c(),$(n,"class","axis x-axis")},m(e,t){f(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null);d(n,r),a&&a.m(n,null)},p(e,[t]){if(4718587&t){let a;for(i=e[16],a=0;a<i.length;a+=1){const l=Tn(e,i,a);o[a]?o[a].p(l,t):(o[a]=Pn(l),o[a].c(),o[a].m(n,r))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}!0===e[2]?a?a.p(e,t):(a=jn(e),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:e,o:e,d(e){e&&h(n),g(o,e),a&&a.d()}}}function Bn(e,t,n){let r,i,o,a,c;const{width:s,height:u,xScale:d,yScale:f,yRange:h}=_("LayerCake");l(e,u,(e=>n(18,c=e))),l(e,d,(e=>n(15,o=e))),l(e,h,(e=>n(17,a=e)));let{gridlines:g=!0}=t,{formatTick:p=(e=>e)}=t,{baseline:m=!1}=t,{flipped:y=!1}=t,{snapTicks:b=!1}=t,{ticks:v}=t,{prefix:x=""}=t,{suffix:$=""}=t,{xTick:w}=t,{yTick:k=15}=t,{dxTick:M=0}=t,{dyTick:N=0}=t,{lineColor:z="#aaa"}=t,{textColor:A="#666"}=t,{solid:R=!1}=t,{axisLabels:E=!0}=t;return e.$$set=e=>{"gridlines"in e&&n(0,g=e.gridlines),"formatTick"in e&&n(1,p=e.formatTick),"baseline"in e&&n(2,m=e.baseline),"flipped"in e&&n(3,y=e.flipped),"snapTicks"in e&&n(23,b=e.snapTicks),"ticks"in e&&n(24,v=e.ticks),"prefix"in e&&n(4,x=e.prefix),"suffix"in e&&n(5,$=e.suffix),"xTick"in e&&n(6,w=e.xTick),"yTick"in e&&n(7,k=e.yTick),"dxTick"in e&&n(8,M=e.dxTick),"dyTick"in e&&n(9,N=e.dyTick),"lineColor"in e&&n(10,z=e.lineColor),"textColor"in e&&n(11,A=e.textColor),"solid"in e&&n(12,R=e.solid),"axisLabels"in e&&n(13,E=e.axisLabels)},e.$$.update=()=>{32768&e.$$.dirty&&n(14,r="function"==typeof o.bandwidth),16826368&e.$$.dirty&&n(16,i=Array.isArray(v)?v:r?o.domain():o.ticks(v))},[g,p,m,y,x,$,w,k,M,N,z,A,R,E,r,o,i,a,c,u,d,h,function(e){if(!0===b){if(0===e)return"start";if(e===i.length-1)return"end"}return"middle"},b,v]}class Hn extends re{constructor(e){super(),ne(this,e,Bn,qn,o,{gridlines:0,formatTick:1,baseline:2,flipped:3,snapTicks:23,ticks:24,prefix:4,suffix:5,xTick:6,yTick:7,dxTick:8,dyTick:9,lineColor:10,textColor:11,solid:12,axisLabels:13})}}function On(e){let t,n,r,i;function o(t){e[10](t)}function a(t){e[11](t)}let l={};return void 0!==e[0]&&(l.selected=e[0]),void 0!==e[1]&&(l.hovered=e[1]),t=new Sn({props:l}),C.push((()=>J(t,"selected",o))),C.push((()=>J(t,"hovered",a))),{c(){Q(t.$$.fragment)},m(e,n){Z(t,e,n),i=!0},p(e,i){const o={};!n&&1&i&&(n=!0,o.selected=e[0],H((()=>n=!1))),!r&&2&i&&(r=!0,o.hovered=e[1],H((()=>r=!1))),t.$set(o)},i(e){i||(Y(t.$$.fragment,e),i=!0)},o(e){X(t.$$.fragment,e),i=!1},d(e){ee(t,e)}}}function Wn(e){let t,n;return t=new Hn({props:{ticks:4,solid:!0,lineColor:"#00000033",formatTick:e[9],snapTicks:!0,dyTick:0,flipped:!0,axisLabels:e[6]}}),{c(){Q(t.$$.fragment)},m(e,r){Z(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.axisLabels=e[6]),t.$set(r)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Fn(e){let t,n,r,i=e[4]&&On(e),o=e[5]&&Wn(e);return{c(){i&&i.c(),t=b(),o&&o.c(),n=v()},m(e,a){i&&i.m(e,a),f(e,t,a),o&&o.m(e,a),f(e,n,a),r=!0},p(e,r){e[4]?i?(i.p(e,r),16&r&&Y(i,1)):(i=On(e),i.c(),Y(i,1),i.m(t.parentNode,t)):i&&(K(),X(i,1,1,(()=>{i=null})),V()),e[5]?o?(o.p(e,r),32&r&&Y(o,1)):(o=Wn(e),o.c(),Y(o,1),o.m(n.parentNode,n)):o&&(K(),X(o,1,1,(()=>{o=null})),V())},i(e){r||(Y(i),Y(o),r=!0)},o(e){X(i),X(o),r=!1},d(e){i&&i.d(e),e&&h(t),o&&o.d(e),e&&h(n)}}}function Un(e){let t,n;return t=new bn({props:{$$slots:{default:[Fn]},$$scope:{ctx:e}}}),{c(){Q(t.$$.fragment)},m(e,r){Z(t,e,r),n=!0},p(e,n){const r={};4211&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function In(e){let t,n,r;return n=new dn({props:{padding:e[8],x:e[7],xDomain:[0,100],yDomain:[0,1],data:e[2],$$slots:{default:[Un]},$$scope:{ctx:e}}}),{c(){t=p("div"),Q(n.$$.fragment),$(t,"class","chart-container svelte-1dnlmiu"),k(t,"height",e[3]+"px")},m(e,i){f(e,t,i),Z(n,t,null),r=!0},p(e,[i]){const o={};256&i&&(o.padding=e[8]),128&i&&(o.x=e[7]),4&i&&(o.data=e[2]),4211&i&&(o.$$scope={dirty:i,ctx:e}),n.$set(o),(!r||8&i)&&k(t,"height",e[3]+"px")},i(e){r||(Y(n.$$.fragment,e),r=!0)},o(e){X(n.$$.fragment,e),r=!1},d(e){e&&h(t),ee(n)}}}function Gn(e,t,n){let{data:r}=t,{height:i=24}=t,{markers:o=!0}=t,{axis:a=!1}=t,{axisLabels:l=!0}=t,{key:c="value"}=t,{selected:s=null}=t,{hovered:u=null}=t,{padding:d={top:0,bottom:0,left:0,right:10}}=t;r.forEach((e=>{e[c]=+e[c]}));return e.$$set=e=>{"data"in e&&n(2,r=e.data),"height"in e&&n(3,i=e.height),"markers"in e&&n(4,o=e.markers),"axis"in e&&n(5,a=e.axis),"axisLabels"in e&&n(6,l=e.axisLabels),"key"in e&&n(7,c=e.key),"selected"in e&&n(0,s=e.selected),"hovered"in e&&n(1,u=e.hovered),"padding"in e&&n(8,d=e.padding)},[s,u,r,i,o,a,l,c,d,e=>e.toFixed(0)+"%",function(e){s=e,n(0,s)},function(e){u=e,n(1,u)}]}class Kn extends re{constructor(e){super(),ne(this,e,Gn,In,o,{data:2,height:3,markers:4,axis:5,axisLabels:6,key:7,selected:0,hovered:1,padding:8})}}function Vn(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function Yn(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function Xn(e,t,n){const r=e.slice();return r[21]=t[n],r}function Jn(e,t,n){const r=e.slice();return r[21]=t[n],r}function Qn(e,t,n){const r=e.slice();return r[21]=t[n],r}function Zn(e,t,n){const r=e.slice();return r[21]=t[n],r}function er(t){let n,r,i=t[21].label+"";return{c(){n=p("option"),r=y(i),n.__value=t[21],n.value=n.__value},m(e,t){f(e,n,t),d(n,r)},p:e,d(e){e&&h(n)}}}function tr(t){let n,r,i=t[21].label+"";return{c(){n=p("option"),r=y(i),n.__value=t[21],n.value=n.__value},m(e,t){f(e,n,t),d(n,r)},p:e,d(e){e&&h(n)}}}function nr(t){let n,r,i=t[21].label+"";return{c(){n=p("option"),r=y(i),n.__value=t[21],n.value=n.__value},m(e,t){f(e,n,t),d(n,r)},p:e,d(e){e&&h(n)}}}function rr(t){let n,r,i=t[21].label+"";return{c(){n=p("option"),r=y(i),n.__value=t[21],n.value=n.__value},m(e,t){f(e,n,t),d(n,r)},p:e,d(e){e&&h(n)}}}function ir(e){let t,n,r=oe,i=[];for(let t=0;t<r.length;t+=1)i[t]=ar(Vn(e,r,t));const o=e=>X(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=v()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);f(e,t,r),n=!0},p(e,n){if(14&n){let a;for(r=oe,a=0;a<r.length;a+=1){const o=Vn(e,r,a);i[a]?(i[a].p(o,n),Y(i[a],1)):(i[a]=ar(o),i[a].c(),Y(i[a],1),i[a].m(t.parentNode,t))}for(K(),a=r.length;a<i.length;a+=1)o(a);V()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Y(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)X(i[e]);n=!1},d(e){g(i,e),e&&h(t)}}}function or(e){let t,n,r,i,o,a,l,c,s,u=e[18].label+"",g=0==e[20]&&function(e){let t,n,r,i,o;return i=new Kn({props:{data:[],key:"value",markers:!1,axis:!0,height:12}}),{c(){t=p("div"),n=b(),r=p("div"),Q(i.$$.fragment)},m(e,a){f(e,t,a),f(e,n,a),f(e,r,a),Z(i,r,null),o=!0},i(e){o||(Y(i.$$.fragment,e),o=!0)},o(e){X(i.$$.fragment,e),o=!1},d(e){e&&h(t),e&&h(n),e&&h(r),ee(i)}}}();function m(t){e[10](t)}function v(t){e[11](t)}let x={data:e[18].data,key:"value",axis:!0,axisLabels:!1};return void 0!==e[1]&&(x.selected=e[1]),void 0!==e[3]&&(x.hovered=e[3]),a=new Kn({props:x}),C.push((()=>J(a,"selected",m))),C.push((()=>J(a,"hovered",v))),{c(){g&&g.c(),t=b(),n=p("div"),r=y(u),i=b(),o=p("div"),Q(a.$$.fragment)},m(e,l){g&&g.m(e,l),f(e,t,l),f(e,n,l),d(n,r),f(e,i,l),f(e,o,l),Z(a,o,null),s=!0},p(e,t){(!s||4&t)&&u!==(u=e[18].label+"")&&w(r,u);const n={};4&t&&(n.data=e[18].data),!l&&2&t&&(l=!0,n.selected=e[1],H((()=>l=!1))),!c&&8&t&&(c=!0,n.hovered=e[3],H((()=>c=!1))),a.$set(n)},i(e){s||(Y(g),Y(a.$$.fragment,e),s=!0)},o(e){X(g),X(a.$$.fragment,e),s=!1},d(e){g&&g.d(e),e&&h(t),e&&h(n),e&&h(i),e&&h(o),ee(a)}}}function ar(e){let t,n,r,i,o,a,l=e[15].label+"",c=e[2][e[17]],s=[];for(let t=0;t<c.length;t+=1)s[t]=or(Yn(e,c,t));const u=e=>X(s[e],1,1,(()=>{s[e]=null}));return{c(){t=p("h2"),n=y(l),r=b(),i=p("div");for(let e=0;e<s.length;e+=1)s[e].c();o=b(),$(i,"class","grid svelte-83omo9")},m(e,l){f(e,t,l),d(t,n),f(e,r,l),f(e,i,l);for(let e=0;e<s.length;e+=1)s[e].m(i,null);d(i,o),a=!0},p(e,t){if(14&t){let n;for(c=e[2][e[17]],n=0;n<c.length;n+=1){const r=Yn(e,c,n);s[n]?(s[n].p(r,t),Y(s[n],1)):(s[n]=or(r),s[n].c(),Y(s[n],1),s[n].m(i,o))}for(K(),n=c.length;n<s.length;n+=1)u(n);V()}},i(e){if(!a){for(let e=0;e<c.length;e+=1)Y(s[e]);a=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)X(s[e]);a=!1},d(e){e&&h(t),e&&h(r),e&&h(i),g(s,e)}}}function lr(e){let t,n,i,o,a,l,c,s,u,d,m,v,$,w,N,z=ie.sex.options,A=[];for(let t=0;t<z.length;t+=1)A[t]=er(Zn(e,z,t));let R=ie.age.options,E=[];for(let t=0;t<R.length;t+=1)E[t]=tr(Qn(e,R,t));let S=ie.birth.options,T=[];for(let t=0;t<S.length;t+=1)T[t]=nr(Jn(e,S,t));let _=ie.ethnicity.options,D=[];for(let t=0;t<_.length;t+=1)D[t]=rr(Xn(e,_,t));let C=e[2]&&ir(e);return{c(){t=p("h1"),t.textContent="How do I compare?",n=y("\n\nTell me how\n\n"),i=p("select");for(let e=0;e<A.length;e+=1)A[e].c();o=y("\naged\n\n"),a=p("select");for(let e=0;e<E.length;e+=1)E[e].c();l=y("\n, born\n\n"),c=p("select");for(let e=0;e<T.length;e+=1)T[e].c();s=y("\nand of\n\n"),u=p("select");for(let e=0;e<D.length;e+=1)D[e].c();d=y("\nethnicity compare to other sub-population groups in England and Wales.\n\n"),C&&C.c(),m=b(),v=p("div"),void 0===e[0].sex&&B((()=>e[6].call(i))),void 0===e[0].age&&B((()=>e[7].call(a))),void 0===e[0].birth&&B((()=>e[8].call(c))),void 0===e[0].ethnicity&&B((()=>e[9].call(u))),k(v,"height","35px")},m(r,h){f(r,t,h),f(r,n,h),f(r,i,h);for(let e=0;e<A.length;e+=1)A[e].m(i,null);M(i,e[0].sex),f(r,o,h),f(r,a,h);for(let e=0;e<E.length;e+=1)E[e].m(a,null);M(a,e[0].age),f(r,l,h),f(r,c,h);for(let e=0;e<T.length;e+=1)T[e].m(c,null);M(c,e[0].birth),f(r,s,h),f(r,u,h);for(let e=0;e<D.length;e+=1)D[e].m(u,null);M(u,e[0].ethnicity),f(r,d,h),C&&C.m(r,h),f(r,m,h),f(r,v,h),$=!0,w||(N=[x(i,"change",e[6]),x(i,"change",e[4]),x(a,"change",e[7]),x(a,"change",e[4]),x(c,"change",e[8]),x(c,"change",e[4]),x(u,"change",e[9]),x(u,"change",e[4])],w=!0)},p(e,[t]){if(0&t){let n;for(z=ie.sex.options,n=0;n<z.length;n+=1){const r=Zn(e,z,n);A[n]?A[n].p(r,t):(A[n]=er(r),A[n].c(),A[n].m(i,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=z.length}if(1&t&&M(i,e[0].sex),0&t){let n;for(R=ie.age.options,n=0;n<R.length;n+=1){const r=Qn(e,R,n);E[n]?E[n].p(r,t):(E[n]=tr(r),E[n].c(),E[n].m(a,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=R.length}if(1&t&&M(a,e[0].age),0&t){let n;for(S=ie.birth.options,n=0;n<S.length;n+=1){const r=Jn(e,S,n);T[n]?T[n].p(r,t):(T[n]=nr(r),T[n].c(),T[n].m(c,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=S.length}if(1&t&&M(c,e[0].birth),0&t){let n;for(_=ie.ethnicity.options,n=0;n<_.length;n+=1){const r=Xn(e,_,n);D[n]?D[n].p(r,t):(D[n]=rr(r),D[n].c(),D[n].m(u,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=_.length}1&t&&M(u,e[0].ethnicity),e[2]?C?(C.p(e,t),4&t&&Y(C,1)):(C=ir(e),C.c(),Y(C,1),C.m(m.parentNode,m)):C&&(K(),X(C,1,1,(()=>{C=null})),V())},i(e){$||(Y(C),$=!0)},o(e){X(C),$=!1},d(e){e&&h(t),e&&h(n),e&&h(i),g(A,e),e&&h(o),e&&h(a),g(E,e),e&&h(l),e&&h(c),g(T,e),e&&h(s),e&&h(u),g(D,e),e&&h(d),C&&C.d(e),e&&h(m),e&&h(v),w=!1,r(N)}}}function cr(e,t,n){const r=Object.keys(ie);let i={},o=null,a=null,l="All",c=l,s=null;function u(){let e=[];oe.forEach((t=>{let n=o[t.key],r=n.dimensions.length,i=n.dimensions[r-1].categories,a=i.map((e=>ae[e.label])),l=["All"];if(r>1)for(let e=0;e<r-1;e++){let t=[];l.forEach((r=>{n.dimensions[e].categories.forEach((e=>{let n="All"==r?ae[e.label]:r+", "+ae[e.label];t.push(n)}))})),l=t}let c={},s={},u=[];l.forEach(((e,t)=>{c[e]={sum:0,counts:[],perc:[]},i.forEach(((i,o)=>{let a=n.values[t*n.dimensions[r-1].categories.length+o];c[e].sum+=a,c[e].counts.push({label:ae[i.label],value:a})})),c[e].counts.forEach((t=>{c[e].perc.push({label:t.label,value:+(t.value/c[e].sum*100).toFixed(2)})})),a.forEach(((t,n)=>{s[t]||(s[t]={label:t,data:[]}),s[t].data.push({label:e,value:c[e].perc[n].value})}))})),a.forEach((e=>u.push(s[e]))),e.push(u)})),n(2,a=e)}return ce(ie,r).then((e=>{o=e.data.dataset,u()})),e.$$.update=()=>{if(35&e.$$.dirty&&l!=c){let e=l.split(", ");r.forEach((t=>{i[t].code&&!e.includes(i[t].name)&&n(0,i[t]=ie[t].options.find((t=>e.includes(t.name))),i)})),n(5,c=l)}},[i,l,a,s,function(){let e=[],t=[];r.forEach((n=>{i[n].code&&(e.push(ie[n].code),t.push(i[n].name))})),n(1,l=t[0]?t.join(", "):"All"),ce(ie,r,e).then((e=>{o=e.data.dataset,u()}))},c,function(){i.sex=N(this),n(0,i),n(1,l),n(5,c)},function(){i.age=N(this),n(0,i),n(1,l),n(5,c)},function(){i.birth=N(this),n(0,i),n(1,l),n(5,c)},function(){i.ethnicity=N(this),n(0,i),n(1,l),n(5,c)},function(e){l=e,n(1,l)},function(e){s=e,n(3,s)}]}return new class extends re{constructor(e){super(),ne(this,e,cr,lr,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
