var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(e,t,n){e.$$.on_destroy.push(a(t,n))}function c(e,t,n,r){if(e){const i=s(e,t,n,r);return e[0](i)}}function s(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function u(e,t,n,r,i,o,a){const l=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,o);if(l){const i=s(t,n,r,a);e.p(i,l)}}function d(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode.removeChild(e)}function g(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function y(e){return document.createTextNode(e)}function b(){return y(" ")}function v(){return y("")}function x(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function M(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function N(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let z,A;function R(){if(void 0===z){z=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){z=!0}}return z}function E(e,t,n){e.classList[n?"add":"remove"](t)}function _(e){A=e}function S(){if(!A)throw new Error("Function called outside component initialization");return A}function D(e){return S().$$.context.get(e)}const T=[],C=[],j=[],B=[],L=Promise.resolve();let P=!1;function q(e){j.push(e)}function H(e){B.push(e)}let O=!1;const K=new Set;function F(){if(!O){O=!0;do{for(let e=0;e<T.length;e+=1){const t=T[e];_(t),W(t.$$)}for(_(null),T.length=0;C.length;)C.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];K.has(t)||(K.add(t),t())}j.length=0}while(T.length);for(;B.length;)B.pop()();P=!1,O=!1,K.clear()}}function W(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(q)}}const U=new Set;let G;function I(){G={r:0,c:[],p:G}}function V(){G.r||r(G.c),G=G.p}function Y(e,t){e&&e.i&&(U.delete(e),e.i(t))}function X(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),G.c.push((()=>{U.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function J(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Q(e){e&&e.c()}function Z(e,n,o,a){const{fragment:l,on_mount:c,on_destroy:s,after_update:u}=e.$$;l&&l.m(n,o),a||q((()=>{const n=c.map(t).filter(i);s?s.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(q)}function ee(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function te(e,t){-1===e.$$.dirty[0]&&(T.push(e),P||(P=!0,L.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(t,i,o,a,l,c,s=[-1]){const u=A;_(t);const d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:i.context||[]),callbacks:n(),dirty:s,skip_bound:!1};let f=!1;if(d.ctx=o?o(t,i.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&l(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),f&&te(t,e)),n})):[],d.update(),f=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);d.fragment&&d.fragment.l(e),e.forEach(h)}else d.fragment&&d.fragment.c();i.intro&&Y(t.$$.fragment),Z(t,i.target,i.anchor,i.customElement),F()}_(u)}class re{$destroy(){ee(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ie={sex:{label:"Sex",name:"Sex",code:"SEX",options:[{label:"people of any sex",code:null},{label:"males",code:"1",name:"Male"},{label:"females",code:"2",name:"Female"}]},age:{label:"Age",name:"Age of individual (6 categories)",code:"AGE_T007A",options:[{label:"any age",code:null},{label:"0-15",code:"0-15",name:"0-15"},{label:"16-24",code:"16-24",name:"16-24"},{label:"25-34",code:"25-34",name:"25-34"},{label:"35-49",code:"35-49",name:"35-49"},{label:"50-64",code:"50-64",name:"50-64"},{label:"65+",code:"65-90",name:"65+"}]},ethnicity:{label:"Ethnicity",name:"Ethnic group (6 categories)",code:"ETHPUK11_T006A",options:[{label:"any",code:null},{label:"white",code:"1-4",name:"White"},{label:"black",code:"14-16",name:"Black"},{label:"asian",code:"9-13",name:"Asian"},{label:"mixed",code:"5-8",name:"Mixed"},{label:"other",code:"17-18",name:"Other"}]},birth:{label:"Birth country",name:"Country of birth (3 categories)",code:"COB_T003B",options:[{label:"anywhere",code:null},{label:"in the UK",code:"1-5",name:"Born in UK"},{label:"outside the UK",code:"6-26",name:"Born outside UK"}]}},oe=[{label:"Health",key:"health"},{label:"Education",key:"education"},{label:"Employment",key:"employment"}],ae={"Not applicable":"N/A","No qualifications":"No qualifications","Highest level of qualification: Level 1, 2 or 3 qualifications":"Secondary-level","Highest level of qualification: Level 4 qualifications and above":"Degree-level","Apprenticeships and other qualifications":"Vocational","Very good health":"Very good","Good health":"Good","Fair health":"Fair","Bad health":"Bad","Very bad health":"Very bad","Economically active: Employee":"Employee","Economically active: Self-employed":"Self-employed","Economically active: Unemployed":"Unemployed","Economically active: Full-time student":"Full-time student","Economically inactive":"Inactive",White:"White","Mixed/multiple ethnic group":"Mixed","Asian/Asian British":"Asian","Black/African/Caribbean/Black British":"Black","Other ethnic group":"Other",Male:"Male",Female:"Female","Age 0 to 15":"0-15","Age 16 to 24":"16-24","Age 25 to 34":"25-34","Age 35 to 49":"35-49","Age 50 to 64":"50-64","Age 65 and over":"65+","Born in the UK":"Born in UK","Born outside the UK":"Born outside UK"},le=["#27A0CC","#003C57","#118C7B","#A8BD3A","#871A5B","#F66068","#746CB1"],ce="\nfragment tableDimensions on Table {\n  dimensions {\n    count\n    categories {\n      code\n      label\n    }\n    variable {\n      name\n      label\n    }\n  }\n}\n".replace(/\s+/g," ");async function se(e,t,n=[]){const r=n[0]?'"'+n.join('","')+'",':"";let i=[];t.forEach((t=>{n.includes(e[t].code)&&i.push(`{variable: "${e[t].code}", codes: ${'["'+e[t].options.filter((e=>null!=e.code)).map((e=>e.code)).join('","')+'"]'}}`)})),i=i[0]?"["+i.join(",")+"]":"[]";const o=`\n  query {\n    dataset(name:"Usual-Residents") {\n      health: table(\n        variables: [${r}"HEALTH"]\n        filters: ${i}\n      )\n      {\n        ...tableDimensions\n        values\n      }\n      employment: table(\n        variables: [${r}"ECOPUK11_R006A"]\n        filters: ${i}\n      )\n      {\n        ...tableDimensions\n        values\n      }\n      education: table(\n        variables: [${r}"HLQPUK11_R005A"]\n        filters: ${i}\n      )\n      {\n        ...tableDimensions\n        values\n      }\n    }\n  }\n  `.replace(/\s+/g," "),a=new Headers({"Content-Type":"application/json",Authorization:"Basic "+btoa("ahmad.barclay:elope.puck.hails.explore")}),l={body:JSON.stringify({query:o+ce}),headers:a,method:"POST",mode:"cors"};let c=await fetch("https://ftb-api-ext.ons.sensiblecode.io/graphql",l);return await c.json()}const ue=[];function de(t,n=e){let r;const i=[];function a(e){if(o(t,e)&&(t=e,r)){const e=!ue.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),ue.push(n,t)}if(e){for(let e=0;e<ue.length;e+=2)ue[e][0](ue[e+1]);ue.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(o,l=e){const c=[o,l];return i.push(c),1===i.length&&(r=n(a)||e),o(t),()=>{const e=i.indexOf(c);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}function fe(t,n,o){const l=!Array.isArray(t),c=l?[t]:t,s=n.length<2;return{subscribe:de(o,(t=>{let o=!1;const u=[];let d=0,f=e;const h=()=>{if(d)return;f();const r=n(l?u[0]:u,t);s?t(r):f=i(r)?r:e},g=c.map(((e,t)=>a(e,(e=>{u[t]=e,d&=~(1<<t),o&&h()}),(()=>{d|=1<<t}))));return o=!0,h(),function(){r(g),f()}})).subscribe}}function he(e){return 0===(t=e)||t?Array.isArray(e)?t=>e.map((e=>"function"!=typeof e?t[e]:e(t))):"function"!=typeof e?t=>t[e]:e:null;var t}function ge(e){return function(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:e,1:r}=n;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}(Object.entries(e).filter((([e,t])=>void 0!==t)))}function pe(e,t){if(!Array.isArray(e)||0===e.length)return null;const n={},r=t.length;let i,o,a,l,c;if(!r)return null;{for(i=0;i<r;i+=1){const r=t[i].accessor(e[0]);null==r||!0===Number.isNaN(r)?n[t[i].field]=[1/0,-1/0]:n[t[i].field]=Array.isArray(r)?r:[r,r]}const s=e.length;for(i=0;i<s;i+=1)for(o=0;o<r;o+=1)if(a=t[o],l=a.accessor(e[i]),c=a.field,Array.isArray(l)){const e=l.length;for(let t=0;t<e;t+=1)void 0!==l[t]&&null!==l[t]&&!1===Number.isNaN(l[t])&&(l[t]<n[c][0]&&(n[c][0]=l[t]),l[t]>n[c][1]&&(n[c][1]=l[t]))}else null!=l&&!1===Number.isNaN(l)&&(l<n[c][0]&&(n[c][0]=l),l>n[c][1]&&(n[c][1]=l))}return n}function me(e=[],t){return!0===Array.isArray(t)?t.map(((t,n)=>null===t?e[n]:t)):e}function ye(e){return function([t,n]){return t?me(t[e],n):n}}function be(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ve(e){let t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>be(e(t),n)}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);const a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}const xe=ve(be).right;ve((function(e){return null===e?NaN:+e})).center;var $e=Math.sqrt(50),we=Math.sqrt(10),ke=Math.sqrt(2);function Me(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=$e?10:o>=we?5:o>=ke?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=$e?10:o>=we?5:o>=ke?2:1)}function Ne(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const ze=Symbol("implicit");function Ae(){var e=new Map,t=[],n=[],r=ze;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==ze)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const r of n){const n=r+"";e.has(n)||e.set(n,t.push(r))}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Ae(t,n).unknown(r)},Ne.apply(i,arguments),i}function Re(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ee(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _e(){}var Se=.7,De=1/Se,Te="\\s*([+-]?\\d+)\\s*",Ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",je="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Be=/^#([0-9a-f]{3,8})$/,Le=new RegExp("^rgb\\("+[Te,Te,Te]+"\\)$"),Pe=new RegExp("^rgb\\("+[je,je,je]+"\\)$"),qe=new RegExp("^rgba\\("+[Te,Te,Te,Ce]+"\\)$"),He=new RegExp("^rgba\\("+[je,je,je,Ce]+"\\)$"),Oe=new RegExp("^hsl\\("+[Ce,je,je]+"\\)$"),Ke=new RegExp("^hsla\\("+[Ce,je,je,Ce]+"\\)$"),Fe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function We(){return this.rgb().formatHex()}function Ue(){return this.rgb().formatRgb()}function Ge(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Be.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ie(t):3===n?new Je(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ve(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ve(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Le.exec(e))?new Je(t[1],t[2],t[3],1):(t=Pe.exec(e))?new Je(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=qe.exec(e))?Ve(t[1],t[2],t[3],t[4]):(t=He.exec(e))?Ve(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Oe.exec(e))?tt(t[1],t[2]/100,t[3]/100,1):(t=Ke.exec(e))?tt(t[1],t[2]/100,t[3]/100,t[4]):Fe.hasOwnProperty(e)?Ie(Fe[e]):"transparent"===e?new Je(NaN,NaN,NaN,0):null}function Ie(e){return new Je(e>>16&255,e>>8&255,255&e,1)}function Ve(e,t,n,r){return r<=0&&(e=t=n=NaN),new Je(e,t,n,r)}function Ye(e){return e instanceof _e||(e=Ge(e)),e?new Je((e=e.rgb()).r,e.g,e.b,e.opacity):new Je}function Xe(e,t,n,r){return 1===arguments.length?Ye(e):new Je(e,t,n,null==r?1:r)}function Je(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Qe(){return"#"+et(this.r)+et(this.g)+et(this.b)}function Ze(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function et(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function tt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rt(e,t,n,r)}function nt(e){if(e instanceof rt)return new rt(e.h,e.s,e.l,e.opacity);if(e instanceof _e||(e=Ge(e)),!e)return new rt;if(e instanceof rt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,c=(o+i)/2;return l?(a=t===o?(n-r)/l+6*(n<r):n===o?(r-t)/l+2:(t-n)/l+4,l/=c<.5?o+i:2-o-i,a*=60):l=c>0&&c<1?0:a,new rt(a,l,c,e.opacity)}function rt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function it(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Re(_e,Ge,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:We,formatHex:We,formatHsl:function(){return nt(this).formatHsl()},formatRgb:Ue,toString:Ue}),Re(Je,Xe,Ee(_e,{brighter:function(e){return e=null==e?De:Math.pow(De,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Se:Math.pow(Se,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qe,formatHex:Qe,formatRgb:Ze,toString:Ze})),Re(rt,(function(e,t,n,r){return 1===arguments.length?nt(e):new rt(e,t,n,null==r?1:r)}),Ee(_e,{brighter:function(e){return e=null==e?De:Math.pow(De,e),new rt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Se:Math.pow(Se,e),new rt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Je(it(e>=240?e-240:e+120,i,r),it(e,i,r),it(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var ot=e=>()=>e;function at(e){return 1==(e=+e)?lt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ot(isNaN(t)?n:t)}}function lt(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):ot(isNaN(e)?t:e)}var ct=function e(t){var n=at(t);function r(e,t){var r=n((e=Xe(e)).r,(t=Xe(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=lt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function st(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function ut(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=yt(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function dt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ft(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ht(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=yt(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var gt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pt=new RegExp(gt.source,"g");function mt(e,t){var n,r,i,o=gt.lastIndex=pt.lastIndex=0,a=-1,l=[],c=[];for(e+="",t+="";(n=gt.exec(e))&&(r=pt.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,c.push({i:a,x:ft(n,r)})),o=pt.lastIndex;return o<t.length&&(i=t.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)l[(n=c[r]).i]=n.x(e);return l.join("")})}function yt(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?ot(t):("number"===i?ft:"string"===i?(n=Ge(t))?(t=n,ct):mt:t instanceof Ge?ct:t instanceof Date?dt:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?ut:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ht:ft:st))(e,t)}function bt(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vt(e){return+e}var xt=[0,1];function $t(e){return e}function wt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function kt(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=wt(i,r),o=n(a,o)):(r=wt(r,i),o=n(o,a)),function(e){return o(r(e))}}function Mt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=wt(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=xe(e,t,1,r)-1;return o[n](i[n](t))}}function Nt(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zt(){var e,t,n,r,i,o,a=xt,l=xt,c=yt,s=$t;function u(){var e,t,n,c=Math.min(a.length,l.length);return s!==$t&&(e=a[0],t=a[c-1],e>t&&(n=e,e=t,t=n),s=function(n){return Math.max(e,Math.min(t,n))}),r=c>2?Mt:kt,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),l,c)))(e(s(t)))}return d.invert=function(n){return s(t((o||(o=r(l,a.map(e),ft)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,vt),u()):a.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),u()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),c=bt,u()},d.clamp=function(e){return arguments.length?(s=!!e||$t,u()):s!==$t},d.interpolate=function(e){return arguments.length?(c=e,u()):c},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function At(){return zt()($t,$t)}function Rt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Et(e){return(e=Rt(Math.abs(e)))?e[1]:NaN}var _t,St=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dt(e){if(!(t=St.exec(e)))throw new Error("invalid format: "+e);var t;return new Tt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Tt(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ct(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Dt.prototype=Tt.prototype,Tt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var jt={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ct(100*e,t),r:Ct,s:function(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(_t=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Rt(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Bt(e){return e}var Lt,Pt,qt,Ht=Array.prototype.map,Ot=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kt(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Bt:(t=Ht.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(e.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?Bt:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Ht.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Dt(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,g=e.width,p=e.comma,m=e.precision,y=e.trim,b=e.type;"n"===b?(p=!0,b="g"):jt[b]||(void 0===m&&(m=12),y=!0,b="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var v="$"===f?i:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===f?o:/[%p]/.test(b)?c:"",$=jt[b],w=/[defgprs%]/.test(b);function k(e){var i,o,c,f=v,k=x;if("c"===b)k=$(e)+k,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:$(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==d&&(M=!1),f=(M?"("===d?d:s:"-"===d||"("===d?"":d)+f,k=("s"===b?Ot[8+_t/3]:"")+k+(M&&"("===d?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){k=(46===c?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}p&&!h&&(e=r(e,1/0));var N=f.length+e.length+k.length,z=N<g?new Array(g-N+1).join(t):"";switch(p&&h&&(e=r(z+e,z.length?g-k.length:1/0),z=""),n){case"<":e=f+e+k+z;break;case"=":e=f+z+e+k;break;case"^":e=z.slice(0,N=z.length>>1)+f+e+k+z.slice(N);break;default:e=z+f+e+k}return l(e)}return m=void 0===m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=Dt(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Et(t)/3))),i=Math.pow(10,-r),o=Ot[8+r/3];return function(e){return n(i*e)+o}}}}function Ft(e,t,n,r){var i,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=$e?i*=10:o>=we?i*=5:o>=ke&&(i*=2),t<e?-i:i}(e,t,n);switch((r=Dt(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Et(t)/3)))-Et(Math.abs(e)))}(o,a))||(r.precision=i),qt(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Et(t)-Et(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Et(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Pt(r)}function Wt(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,i,o,a,l=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=Me(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,o=new Array(i=r-n+1);++l<i;)o[l]=(n+l)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,o=new Array(i=r-n+1);++l<i;)o[l]=(n+l)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Ft(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,l=o.length-1,c=o[a],s=o[l],u=10;for(s<c&&(i=c,c=s,s=i,i=a,a=l,l=i);u-- >0;){if((i=Me(c,s,n))===r)return o[a]=c,o[l]=s,t(o);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return e},e}function Ut(){var e=At();return e.copy=function(){return Nt(e,Ut())},Ne.apply(e,arguments),Wt(e)}function Gt(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function It(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vt(e){return e<0?-e*e:e*e}function Yt(e){var t=e($t,$t),n=1;function r(){return 1===n?e($t,$t):.5===n?e(It,Vt):e(Gt(n),Gt(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Wt(t)}function Xt(){var e=Yt(zt());return e.copy=function(){return Nt(e,Xt()).exponent(e.exponent())},Ne.apply(e,arguments),e}Lt=Kt({thousands:",",grouping:[3],currency:["$",""]}),Pt=Lt.format,qt=Lt.formatPrefix;var Jt={x:Ut,y:Ut,z:Ut,r:function(){return Xt.apply(null,arguments).exponent(.5)}};function Qt(e){return e}function Zt(e){return t=>Math.log(e*t)}function en(e){return t=>e*Math.exp(t)}function tn(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function nn(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rn(e,t){if("function"!=typeof e.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof e.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t))return e.domain();2!==e.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",e.domain()),2!==e.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",e.range());const{lift:n,ground:r}=function(e){const t=function(e){return e.constant?"symlog":e.base?"log":e.exponent?.5===e.exponent()?"sqrt":"pow":"other"}(e);if("log"===t){const n=Math.sign(e.domain()[0]);return{lift:Zt(n),ground:en(n),scaleType:t}}if("pow"===t){const e=1;return{lift:nn(e),ground:nn(1/e),scaleType:t}}if("sqrt"===t){const e=.5;return{lift:nn(e),ground:nn(1/e),scaleType:t}}if("symlog"===t){const e=1;return{lift:(n=e,e=>Math.sign(e)*Math.log1p(Math.abs(e/n))),ground:tn(e),scaleType:t}}var n;return{lift:Qt,ground:Qt,scaleType:t}}(e),i=e.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,l]=e.domain().map((e=>n(o?e.getTime():e))),[c,s]=e.range(),u=t[0]||0,d=t[1]||0,f=(l-a)/(Math.abs(s-c)-u-d);return[a-u*f,d*f+l].map((e=>r(o?new Date(e):e)))}function on(e){return function([t,n,r,i,o,a,l,c,s,u]){if(null===n)return null;const d=function(e,t,n,r,i,o){return i?"function"==typeof i?i({width:t,height:n}):i:function(e,t,n,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===e?1:0,a="y"===e?n:"r"===e?25:t),!0===r?[a,o]:[o,a]}(e,t,n,r,o)}(e,l,c,a,s,u),f=t===Jt[e]?t():t.copy();return f.domain(me(n[e],r)).range(d),i&&f.domain(rn(f,i)),!0===o&&("function"==typeof f.nice?f.nice():console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),f}}function an([e,t]){return n=>{const r=e(n);return Array.isArray(r)?r.map((e=>t(e))):t(r)}}function ln([e]){if("function"==typeof e){if("function"==typeof e.range)return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var cn={x:!1,y:!0,z:!1,r:!1};const sn=e=>({element:4&e[0],width:64&e[0],height:128&e[0],aspectRatio:256&e[0],containerWidth:512&e[0],containerHeight:1024&e[0]}),un=e=>({element:e[2],width:e[6],height:e[7],aspectRatio:e[8],containerWidth:e[9],containerHeight:e[10]});function dn(e){let t,n,r,i;const o=e[54].default,a=c(o,e,e[53],un);return{c(){t=p("div"),a&&a.c(),$(t,"class","layercake-container svelte-vhzpsp"),$(t,"style",n="\n\t\t\tposition:"+e[5]+";\n\t\t\t"+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===e[4]?"pointer-events:none;":"")+"\n\t\t"),q((()=>e[56].call(t)))},m(n,o){f(n,t,o),a&&a.m(t,null),e[55](t),r=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=p("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=R();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=x(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=x(n.contentWindow,"resize",t)}),d(e,n),()=>{(r||i&&n.contentWindow)&&i(),h(n)}}(t,e[56].bind(t)),i=!0},p(e,r){a&&a.p&&(!i||1988&r[0]|4194304&r[1])&&u(a,o,e,e[53],r,sn,un),(!i||48&r[0]&&n!==(n="\n\t\t\tposition:"+e[5]+";\n\t\t\t"+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===e[4]?"pointer-events:none;":"")+"\n\t\t"))&&$(t,"style",n)},i(e){i||(Y(a,e),i=!0)},o(e){X(a,e),i=!1},d(n){n&&h(t),a&&a.d(n),e[55](null),r()}}}function fn(e){let t,n,r=(!0===e[3]||"undefined"!=typeof window)&&dn(e);return{c(){r&&r.c(),t=v()},m(e,i){r&&r.m(e,i),f(e,t,i),n=!0},p(e,n){!0===e[3]||"undefined"!=typeof window?r?(r.p(e,n),8&n[0]&&Y(r,1)):(r=dn(e),r.c(),Y(r,1),r.m(t.parentNode,t)):r&&(I(),X(r,1,1,(()=>{r=null})),V())},i(e){n||(Y(r),n=!0)},o(e){X(r),n=!1},d(e){r&&r.d(e),e&&h(t)}}}function hn(e,t,n){let r,i,o,a,c,s,{$$slots:u={},$$scope:d}=t,{ssr:f=!1}=t,{pointerEvents:h=!0}=t,{position:g="relative"}=t,{percentRange:p=!1}=t,{width:m}=t,{height:y}=t,{containerWidth:b=m||100}=t,{containerHeight:v=y||100}=t,{element:x}=t,{x:$}=t,{y:w}=t,{z:k}=t,{r:M}=t,{custom:N={}}=t,{data:z=[]}=t,{xDomain:A}=t,{yDomain:R}=t,{zDomain:E}=t,{rDomain:_}=t,{xNice:D=!1}=t,{yNice:T=!1}=t,{zNice:j=!1}=t,{rNice:B=!1}=t,{xReverse:L=cn.x}=t,{yReverse:P=cn.y}=t,{zReverse:q=cn.z}=t,{rReverse:H=cn.r}=t,{xPadding:O}=t,{yPadding:K}=t,{zPadding:F}=t,{rPadding:W}=t,{xScale:U=Jt.x}=t,{yScale:G=Jt.y}=t,{zScale:I=Jt.y}=t,{rScale:V=Jt.r}=t,{xRange:Y}=t,{yRange:X}=t,{zRange:J}=t,{rRange:Q}=t,{padding:Z={}}=t,{extents:ee={}}=t,{flatData:te}=t;const ne={},re=de(),ie=de();l(e,ie,(e=>n(9,c=e)));const oe=de();l(e,oe,(e=>n(10,s=e)));const ae=de(),le=de(),ce=de(),se=de(),ue=de(),me=de(),be=de(),ve=de(),xe=de(),$e=de(),we=de(),ke=de(),Me=de(),Ne=de(),ze=de(),Ae=de(),Re=de(),Ee=de(),_e=de(),Se=de(),De=de(),Te=de(),Ce=de(),je=de(),Be=de(),Le=de(),Pe=de(),qe=de(),He=de(),Oe=de(),Ke=de(),Fe=de(),We=de(),Ue=de(ne),Ge=fe([ae,le,ce,se],(([e,t,n,r])=>[{field:"x",accessor:e},{field:"y",accessor:t},{field:"z",accessor:n},{field:"r",accessor:r}].filter((e=>e.accessor)))),Ie=fe([Ke,ie,oe],(([e])=>Object.assign({top:0,right:0,bottom:0,left:0},e))),Ve=fe([ie,oe,Ie],(([e,t,n])=>{const r={};return r.top=n.top,r.right=e-n.right,r.bottom=t-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Ye=fe([Ve],(([e])=>e.width));l(e,Ye,(e=>n(6,i=e)));const Xe=fe([Ve],(([e])=>e.height));l(e,Xe,(e=>n(7,o=e)));const Je=fe([Fe,Ge,We],(([e,t,n])=>({...pe(e,t.filter((e=>!n[e.field]))),...n}))),Qe=fe([Je,be],ye("x")),Ze=fe([Je,ve],ye("y")),et=fe([Je,xe],ye("z")),tt=fe([Je,$e],ye("r")),nt=fe([Ce,Je,Qe,_e,we,ze,Ye,Xe,Pe,re],on("x")),rt=fe([ae,nt],an),it=fe([je,Je,Ze,Se,ke,Ae,Ye,Xe,qe,re],on("y")),ot=fe([le,it],an),at=fe([Be,Je,et,De,Me,Re,Ye,Xe,He,re],on("z")),lt=fe([ce,at],an),ct=fe([Le,Je,tt,Te,Ne,Ee,Ye,Xe,Oe,re],on("r")),st=fe([se,ct],an),ut=fe([nt],ln),dt=fe([it],ln),ft=fe([at],ln),ht=fe([ct],ln),gt=fe([Ye,Xe],(([e,t,n])=>t/n));return l(e,gt,(e=>n(8,a=e))),e.$$set=e=>{"ssr"in e&&n(3,f=e.ssr),"pointerEvents"in e&&n(4,h=e.pointerEvents),"position"in e&&n(5,g=e.position),"percentRange"in e&&n(16,p=e.percentRange),"width"in e&&n(17,m=e.width),"height"in e&&n(18,y=e.height),"containerWidth"in e&&n(0,b=e.containerWidth),"containerHeight"in e&&n(1,v=e.containerHeight),"element"in e&&n(2,x=e.element),"x"in e&&n(19,$=e.x),"y"in e&&n(20,w=e.y),"z"in e&&n(21,k=e.z),"r"in e&&n(22,M=e.r),"custom"in e&&n(23,N=e.custom),"data"in e&&n(24,z=e.data),"xDomain"in e&&n(25,A=e.xDomain),"yDomain"in e&&n(26,R=e.yDomain),"zDomain"in e&&n(27,E=e.zDomain),"rDomain"in e&&n(28,_=e.rDomain),"xNice"in e&&n(29,D=e.xNice),"yNice"in e&&n(30,T=e.yNice),"zNice"in e&&n(31,j=e.zNice),"rNice"in e&&n(32,B=e.rNice),"xReverse"in e&&n(33,L=e.xReverse),"yReverse"in e&&n(34,P=e.yReverse),"zReverse"in e&&n(35,q=e.zReverse),"rReverse"in e&&n(36,H=e.rReverse),"xPadding"in e&&n(37,O=e.xPadding),"yPadding"in e&&n(38,K=e.yPadding),"zPadding"in e&&n(39,F=e.zPadding),"rPadding"in e&&n(40,W=e.rPadding),"xScale"in e&&n(41,U=e.xScale),"yScale"in e&&n(42,G=e.yScale),"zScale"in e&&n(43,I=e.zScale),"rScale"in e&&n(44,V=e.rScale),"xRange"in e&&n(45,Y=e.xRange),"yRange"in e&&n(46,X=e.yRange),"zRange"in e&&n(47,J=e.zRange),"rRange"in e&&n(48,Q=e.rRange),"padding"in e&&n(49,Z=e.padding),"extents"in e&&n(50,ee=e.extents),"flatData"in e&&n(51,te=e.flatData),"$$scope"in e&&n(53,d=e.$$scope)},e.$$.update=()=>{524288&e.$$.dirty[0]&&$&&(ne.x=$),1048576&e.$$.dirty[0]&&w&&(ne.y=w),2097152&e.$$.dirty[0]&&k&&(ne.z=k),4194304&e.$$.dirty[0]&&M&&(ne.r=M),33554432&e.$$.dirty[0]&&A&&(ne.xDomain=A),67108864&e.$$.dirty[0]&&R&&(ne.yDomain=R),134217728&e.$$.dirty[0]&&E&&(ne.zDomain=E),268435456&e.$$.dirty[0]&&_&&(ne.rDomain=_),16384&e.$$.dirty[1]&&Y&&(ne.xRange=Y),32768&e.$$.dirty[1]&&X&&(ne.yRange=X),65536&e.$$.dirty[1]&&J&&(ne.zRange=J),131072&e.$$.dirty[1]&&Q&&(ne.rRange=Q),65536&e.$$.dirty[0]&&re.set(p),1&e.$$.dirty[0]&&ie.set(b),2&e.$$.dirty[0]&&oe.set(v),524288&e.$$.dirty[0]&&ae.set(he($)),1048576&e.$$.dirty[0]&&le.set(he(w)),2097152&e.$$.dirty[0]&&ce.set(he(k)),4194304&e.$$.dirty[0]&&se.set(he(M)),33554432&e.$$.dirty[0]&&be.set(A),67108864&e.$$.dirty[0]&&ve.set(R),134217728&e.$$.dirty[0]&&xe.set(E),268435456&e.$$.dirty[0]&&$e.set(_),8388608&e.$$.dirty[0]&&ue.set(N),16777216&e.$$.dirty[0]&&me.set(z),536870912&e.$$.dirty[0]&&we.set(D),1073741824&e.$$.dirty[0]&&ke.set(T),1&e.$$.dirty[1]&&Me.set(j),2&e.$$.dirty[1]&&Ne.set(B),4&e.$$.dirty[1]&&ze.set(L),8&e.$$.dirty[1]&&Ae.set(P),16&e.$$.dirty[1]&&Re.set(q),32&e.$$.dirty[1]&&Ee.set(H),64&e.$$.dirty[1]&&_e.set(O),128&e.$$.dirty[1]&&Se.set(K),256&e.$$.dirty[1]&&De.set(F),512&e.$$.dirty[1]&&Te.set(W),1024&e.$$.dirty[1]&&Ce.set(U),2048&e.$$.dirty[1]&&je.set(G),4096&e.$$.dirty[1]&&Be.set(I),8192&e.$$.dirty[1]&&Le.set(V),16384&e.$$.dirty[1]&&Pe.set(Y),32768&e.$$.dirty[1]&&qe.set(X),65536&e.$$.dirty[1]&&He.set(J),131072&e.$$.dirty[1]&&Oe.set(Q),262144&e.$$.dirty[1]&&Ke.set(Z),524288&e.$$.dirty[1]&&We.set(ge(ee)),16777216&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&Fe.set(te||z),2097152&e.$$.dirty[1]&&function(e,t){S().$$.context.set(e,t)}("LayerCake",r)},n(52,r={activeGetters:Ge,width:Ye,height:Xe,percentRange:re,aspectRatio:gt,containerWidth:ie,containerHeight:oe,x:ae,y:le,z:ce,r:se,custom:ue,data:me,xNice:we,yNice:ke,zNice:Me,rNice:Ne,xReverse:ze,yReverse:Ae,zReverse:Re,rReverse:Ee,xPadding:_e,yPadding:Se,zPadding:De,rPadding:Te,padding:Ie,flatData:Fe,extents:Je,xDomain:Qe,yDomain:Ze,zDomain:et,rDomain:tt,xRange:ut,yRange:dt,zRange:ft,rRange:ht,config:Ue,xScale:nt,xGet:rt,yScale:it,yGet:ot,zScale:at,zGet:lt,rScale:ct,rGet:st}),[b,v,x,f,h,g,i,o,a,c,s,ie,oe,Ye,Xe,gt,p,m,y,$,w,k,M,N,z,A,R,E,_,D,T,j,B,L,P,q,H,O,K,F,W,U,G,I,V,Y,X,J,Q,Z,ee,te,r,d,u,function(e){C[e?"unshift":"push"]((()=>{x=e,n(2,x)}))},function(){b=this.clientWidth,v=this.clientHeight,n(0,b),n(1,v)}]}class gn extends re{constructor(e){super(),ne(this,e,hn,fn,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},[-1,-1,-1,-1])}}const pn=e=>({element:1&e}),mn=e=>({element:e[0]}),yn=e=>({element:1&e}),bn=e=>({element:e[0]});function vn(e){let t,n,r,i,o,a;const l=e[13].defs,s=c(l,e,e[12],bn),g=e[13].default,p=c(g,e,e[12],mn);return{c(){t=m("svg"),n=m("defs"),s&&s.c(),r=m("g"),p&&p.c(),$(r,"class","layercake-layout-svg_g"),$(r,"transform",i="translate("+e[6].left+", "+e[6].top+")"),$(t,"class","layercake-layout-svg svelte-u84d8d"),$(t,"viewBox",e[1]),$(t,"width",e[4]),$(t,"height",e[5]),$(t,"style",o=""+(e[2]+e[3]))},m(i,o){f(i,t,o),d(t,n),s&&s.m(n,null),d(t,r),p&&p.m(r,null),e[14](t),a=!0},p(e,[n]){s&&s.p&&(!a||4097&n)&&u(s,l,e,e[12],n,yn,bn),p&&p.p&&(!a||4097&n)&&u(p,g,e,e[12],n,pn,mn),(!a||64&n&&i!==(i="translate("+e[6].left+", "+e[6].top+")"))&&$(r,"transform",i),(!a||2&n)&&$(t,"viewBox",e[1]),(!a||16&n)&&$(t,"width",e[4]),(!a||32&n)&&$(t,"height",e[5]),(!a||12&n&&o!==(o=""+(e[2]+e[3])))&&$(t,"style",o)},i(e){a||(Y(s,e),Y(p,e),a=!0)},o(e){X(s,e),X(p,e),a=!1},d(n){n&&h(t),s&&s.d(n),p&&p.d(n),e[14](null)}}}function xn(e,t,n){let r,i,o,{$$slots:a={},$$scope:c}=t,{element:s}=t,{viewBox:u}=t,{zIndex:d}=t,{pointerEvents:f}=t,h="",g="";const{containerWidth:p,containerHeight:m,padding:y}=D("LayerCake");return l(e,p,(e=>n(4,r=e))),l(e,m,(e=>n(5,i=e))),l(e,y,(e=>n(6,o=e))),e.$$set=e=>{"element"in e&&n(0,s=e.element),"viewBox"in e&&n(1,u=e.viewBox),"zIndex"in e&&n(10,d=e.zIndex),"pointerEvents"in e&&n(11,f=e.pointerEvents),"$$scope"in e&&n(12,c=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(2,h=void 0!==d?`z-index:${d};`:""),2048&e.$$.dirty&&n(3,g=!1===f?"pointer-events:none;":"")},[s,u,h,g,r,i,o,p,m,y,d,f,c,a,function(e){C[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class $n extends re{constructor(e){super(),ne(this,e,xn,vn,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function wn(e,t,n){const r=e.slice();return r[22]=t[n],r}function kn(e,t,n){const r=e.slice();return r[22]=t[n],r}function Mn(e,t,n){const r=e.slice();return r[27]=t[n],r}function Nn(e){let t,n,i,o,a,l,c,s,u,d,g,p,y;function b(){return e[16](e[27])}function v(){return e[17](e[27])}return{c(){t=m("line"),c=m("line"),$(t,"x1",n=e[4](e[27])),$(t,"x2",i=e[4](e[27])),$(t,"y1",o=e[5](e[15])),$(t,"y2",a=e[5](e[14])),$(t,"stroke",l=e[6]?e[7](e[27]):"grey"),$(t,"stroke-width","1"),$(t,"stroke-linecap","butt"),$(c,"x1",s=e[4](e[27])),$(c,"x2",u=e[4](e[27])),$(c,"y1",d=e[5](e[15])),$(c,"y2",g=e[5](e[14])),$(c,"stroke","#ffffff00"),$(c,"stroke-width","6"),$(c,"stroke-linecap","butt")},m(e,n){f(e,t,n),f(e,c,n),p||(y=[x(c,"mouseenter",b),x(c,"click",v)],p=!0)},p(r,f){e=r,24&f&&n!==(n=e[4](e[27]))&&$(t,"x1",n),24&f&&i!==(i=e[4](e[27]))&&$(t,"x2",i),32&f&&o!==(o=e[5](e[15]))&&$(t,"y1",o),32&f&&a!==(a=e[5](e[14]))&&$(t,"y2",a),200&f&&l!==(l=e[6]?e[7](e[27]):"grey")&&$(t,"stroke",l),24&f&&s!==(s=e[4](e[27]))&&$(c,"x1",s),24&f&&u!==(u=e[4](e[27]))&&$(c,"x2",u),32&f&&d!==(d=e[5](e[15]))&&$(c,"y1",d),32&f&&g!==(g=e[5](e[14]))&&$(c,"y2",g)},d(e){e&&h(t),e&&h(c),p=!1,r(y)}}}function zn(e){let t,n=e[3].filter(e[19]),r=[];for(let t=0;t<n.length;t+=1)r[t]=An(kn(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=v()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);f(e,t,n)},p(e,i){if(49209&i){let o;for(n=e[3].filter(e[19]),o=0;o<n.length;o+=1){const a=kn(e,n,o);r[o]?r[o].p(a,i):(r[o]=An(a),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){g(r,e),e&&h(t)}}}function An(e){let t,n,r,i,o,a;return{c(){t=m("g"),n=m("line"),$(n,"x1",r=e[4](e[22])),$(n,"x2",i=e[4](e[22])),$(n,"y1",o=e[5](e[15])),$(n,"y2",a=e[5](e[14])),$(n,"stroke","black"),$(n,"stroke-width","3"),$(n,"stroke-linecap","butt"),$(t,"class","markers-selected svelte-1pednoq")},m(e,r){f(e,t,r),d(t,n)},p(e,t){25&t&&r!==(r=e[4](e[22]))&&$(n,"x1",r),25&t&&i!==(i=e[4](e[22]))&&$(n,"x2",i),32&t&&o!==(o=e[5](e[15]))&&$(n,"y1",o),32&t&&a!==(a=e[5](e[14]))&&$(n,"y2",a)},d(e){e&&h(t)}}}function Rn(e){let t,n=e[3].filter(e[20]),r=[];for(let t=0;t<n.length;t+=1)r[t]=_n(wn(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=v()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);f(e,t,n)},p(e,i){if(49214&i){let o;for(n=e[3].filter(e[20]),o=0;o<n.length;o+=1){const a=wn(e,n,o);r[o]?r[o].p(a,i):(r[o]=_n(a),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){g(r,e),e&&h(t)}}}function En(e){let t,n,r,i,o=e[22].label+"";return{c(){t=m("text"),n=y(o),$(t,"x",r=e[4](e[22])+10),$(t,"y",i=e[5]((e[14]+e[15])/2)+2),$(t,"text-anchor","start"),$(t,"dominant-baseline","middle"),$(t,"filter","url(#solid)")},m(e,r){f(e,t,r),d(t,n)},p(e,a){10&a&&o!==(o=e[22].label+"")&&w(n,o),26&a&&r!==(r=e[4](e[22])+10)&&$(t,"x",r),32&a&&i!==(i=e[5]((e[14]+e[15])/2)+2)&&$(t,"y",i)},d(e){e&&h(t)}}}function _n(e){let t,n,r,i,o,a,l=e[2]&&En(e);return{c(){t=m("g"),n=m("line"),l&&l.c(),$(n,"x1",r=e[4](e[22])),$(n,"x2",i=e[4](e[22])),$(n,"y1",o=e[5](e[15])),$(n,"y2",a=e[5](e[14])),$(n,"stroke","orange"),$(n,"stroke-width","3\t"),$(n,"stroke-linecap","butt"),$(t,"class","markers-selected svelte-1pednoq")},m(e,r){f(e,t,r),d(t,n),l&&l.m(t,null)},p(e,c){26&c&&r!==(r=e[4](e[22]))&&$(n,"x1",r),26&c&&i!==(i=e[4](e[22]))&&$(n,"x2",i),32&c&&o!==(o=e[5](e[15]))&&$(n,"y1",o),32&c&&a!==(a=e[5](e[14]))&&$(n,"y2",a),e[2]?l?l.p(e,c):(l=En(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(e){e&&h(t),l&&l.d()}}}function Sn(t){let n,r,i,o,a,l,c,s,u,p,y,w,k,M=t[3],N=[];for(let e=0;e<M.length;e+=1)N[e]=Nn(Mn(t,M,e));let z=t[0]&&zn(t),A=t[1]&&Rn(t);return{c(){n=m("defs"),r=m("filter"),i=m("feFlood"),o=m("feMerge"),a=m("feMergeNode"),l=m("feMergeNode"),c=b(),s=m("g");for(let e=0;e<N.length;e+=1)N[e].c();u=b(),z&&z.c(),p=b(),A&&A.c(),y=v(),$(i,"flood-color","#ffffffdd"),$(i,"result","bg"),$(a,"in","bg"),$(l,"in","SourceGraphic"),$(r,"x","0"),$(r,"y","0"),$(r,"width","1"),$(r,"height","1"),$(r,"id","solid"),$(s,"class","markers")},m(e,h){f(e,n,h),d(n,r),d(r,i),d(r,o),d(o,a),d(o,l),f(e,c,h),f(e,s,h);for(let e=0;e<N.length;e+=1)N[e].m(s,null);f(e,u,h),z&&z.m(e,h),f(e,p,h),A&&A.m(e,h),f(e,y,h),w||(k=x(s,"mouseleave",t[18]),w=!0)},p(e,[t]){if(49407&t){let n;for(M=e[3],n=0;n<M.length;n+=1){const r=Mn(e,M,n);N[n]?N[n].p(r,t):(N[n]=Nn(r),N[n].c(),N[n].m(s,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=M.length}e[0]?z?z.p(e,t):(z=zn(e),z.c(),z.m(p.parentNode,p)):z&&(z.d(1),z=null),e[1]?A?A.p(e,t):(A=Rn(e),A.c(),A.m(y.parentNode,y)):A&&(A.d(1),A=null)},i:e,o:e,d(e){e&&h(n),e&&h(c),e&&h(s),g(N,e),e&&h(u),z&&z.d(e),e&&h(p),A&&A.d(e),e&&h(y),w=!1,k()}}}function Dn(e,t,n){let r,i,o,a,c,s;const{data:u,xGet:d,yScale:f,yDomain:h,zGet:g,z:p}=D("LayerCake");l(e,u,(e=>n(3,i=e))),l(e,d,(e=>n(4,o=e))),l(e,f,(e=>n(5,a=e))),l(e,h,(e=>n(21,r=e))),l(e,g,(e=>n(7,s=e))),l(e,p,(e=>n(6,c=e)));let{selected:m=null}=t,{hovered:y=null}=t,b=!1,v=r[0],x=r[1];return e.$$set=e=>{"selected"in e&&n(0,m=e.selected),"hovered"in e&&n(1,y=e.hovered)},[m,y,b,i,o,a,c,s,u,d,f,h,g,p,v,x,e=>{n(1,y=e.label),n(2,b=!0)},e=>n(0,m=e.label),()=>{n(1,y=null),n(2,b=!1)},e=>e.label==m,e=>e.label==y]}class Tn extends re{constructor(e){super(),ne(this,e,Dn,Sn,o,{selected:0,hovered:1})}}function Cn(e,t,n){const r=e.slice();return r[27]=t[n],r[29]=n,r}function jn(e){let t,n;return{c(){t=m("line"),$(t,"y1",n=-1*e[18]),$(t,"y2",e[9]),$(t,"x1","0"),$(t,"x2","0"),$(t,"stroke",e[10]),$(t,"class","svelte-1u7vzrc"),E(t,"baseline",e[12])},m(e,n){f(e,t,n)},p(e,r){262144&r&&n!==(n=-1*e[18])&&$(t,"y1",n),512&r&&$(t,"y2",e[9]),1024&r&&$(t,"stroke",e[10]),4096&r&&E(t,"baseline",e[12])},d(e){e&&h(t)}}}function Bn(e){let t,n,r,i;function o(e,t){return e[29]==e[16].length-1?Pn:Ln}let a=o(e),l=a(e);return{c(){t=m("text"),l.c(),$(t,"x",n=e[6]||e[14]?e[15].bandwidth()/2:0),$(t,"y",r=e[3]?-1*e[18]-6:e[7]),$(t,"dx",i="start"==e[22](e[29])?e[8]-2:"end"==e[22](e[29])?e[8]+2:e[8]),$(t,"dy",e[9]),$(t,"text-anchor",e[22](e[29])),$(t,"fill",e[11])},m(e,n){f(e,t,n),l.m(t,null)},p(e,c){a===(a=o(e))&&l?l.p(e,c):(l.d(1),l=a(e),l&&(l.c(),l.m(t,null))),49216&c&&n!==(n=e[6]||e[14]?e[15].bandwidth()/2:0)&&$(t,"x",n),262280&c&&r!==(r=e[3]?-1*e[18]-6:e[7])&&$(t,"y",r),256&c&&i!==(i="start"==e[22](e[29])?e[8]-2:"end"==e[22](e[29])?e[8]+2:e[8])&&$(t,"dx",i),512&c&&$(t,"dy",e[9]),2048&c&&$(t,"fill",e[11])},d(e){e&&h(t),l.d()}}}function Ln(e){let t,n=e[1](e[27])+"";return{c(){t=y(n)},m(e,n){f(e,t,n)},p(e,r){65538&r&&n!==(n=e[1](e[27])+"")&&w(t,n)},d(e){e&&h(t)}}}function Pn(e){let t,n,r,i=e[1](e[27])+"";return{c(){t=y(e[4]),n=y(i),r=y(e[5])},m(e,i){f(e,t,i),f(e,n,i),f(e,r,i)},p(e,o){16&o&&w(t,e[4]),65538&o&&i!==(i=e[1](e[27])+"")&&w(n,i),32&o&&w(r,e[5])},d(e){e&&h(t),e&&h(n),e&&h(r)}}}function qn(e){let t,n,r,i,o=!1!==e[0]&&jn(e),a=e[13]&&Bn(e);return{c(){t=m("g"),o&&o.c(),n=v(),a&&a.c(),$(t,"class",r="tick tick-"+e[27]+" svelte-1u7vzrc"),$(t,"transform",i="translate("+e[15](e[27])+","+e[17][0]+")")},m(e,r){f(e,t,r),o&&o.m(t,null),d(t,n),a&&a.m(t,null)},p(e,l){!1!==e[0]?o?o.p(e,l):(o=jn(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),e[13]?a?a.p(e,l):(a=Bn(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),65536&l&&r!==(r="tick tick-"+e[27]+" svelte-1u7vzrc")&&$(t,"class",r),229376&l&&i!==(i="translate("+e[15](e[27])+","+e[17][0]+")")&&$(t,"transform",i)},d(e){e&&h(t),o&&o.d(),a&&a.d()}}}function Hn(e){let t;return{c(){t=m("line"),$(t,"class","baseline svelte-1u7vzrc"),$(t,"y1",e[18]),$(t,"y2","0"),$(t,"x1","0"),$(t,"x2","0"),$(t,"stroke",e[10])},m(e,n){f(e,t,n)},p(e,n){262144&n&&$(t,"y1",e[18]),1024&n&&$(t,"stroke",e[10])},d(e){e&&h(t)}}}function On(t){let n,r,i=t[16],o=[];for(let e=0;e<i.length;e+=1)o[e]=qn(Cn(t,i,e));let a=!0===t[2]&&Hn(t);return{c(){n=m("g");for(let e=0;e<o.length;e+=1)o[e].c();r=v(),a&&a.c(),$(n,"class","axis x-axis")},m(e,t){f(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null);d(n,r),a&&a.m(n,null)},p(e,[t]){if(4718587&t){let a;for(i=e[16],a=0;a<i.length;a+=1){const l=Cn(e,i,a);o[a]?o[a].p(l,t):(o[a]=qn(l),o[a].c(),o[a].m(n,r))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}!0===e[2]?a?a.p(e,t):(a=Hn(e),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:e,o:e,d(e){e&&h(n),g(o,e),a&&a.d()}}}function Kn(e,t,n){let r,i,o,a,c;const{width:s,height:u,xScale:d,yScale:f,yRange:h}=D("LayerCake");l(e,u,(e=>n(18,c=e))),l(e,d,(e=>n(15,o=e))),l(e,h,(e=>n(17,a=e)));let{gridlines:g=!0}=t,{formatTick:p=(e=>e)}=t,{baseline:m=!1}=t,{flipped:y=!1}=t,{snapTicks:b=!1}=t,{ticks:v}=t,{prefix:x=""}=t,{suffix:$=""}=t,{xTick:w}=t,{yTick:k=15}=t,{dxTick:M=0}=t,{dyTick:N=0}=t,{lineColor:z="#aaa"}=t,{textColor:A="#666"}=t,{solid:R=!1}=t,{axisLabels:E=!0}=t;return e.$$set=e=>{"gridlines"in e&&n(0,g=e.gridlines),"formatTick"in e&&n(1,p=e.formatTick),"baseline"in e&&n(2,m=e.baseline),"flipped"in e&&n(3,y=e.flipped),"snapTicks"in e&&n(23,b=e.snapTicks),"ticks"in e&&n(24,v=e.ticks),"prefix"in e&&n(4,x=e.prefix),"suffix"in e&&n(5,$=e.suffix),"xTick"in e&&n(6,w=e.xTick),"yTick"in e&&n(7,k=e.yTick),"dxTick"in e&&n(8,M=e.dxTick),"dyTick"in e&&n(9,N=e.dyTick),"lineColor"in e&&n(10,z=e.lineColor),"textColor"in e&&n(11,A=e.textColor),"solid"in e&&n(12,R=e.solid),"axisLabels"in e&&n(13,E=e.axisLabels)},e.$$.update=()=>{32768&e.$$.dirty&&n(14,r="function"==typeof o.bandwidth),16826368&e.$$.dirty&&n(16,i=Array.isArray(v)?v:r?o.domain():o.ticks(v))},[g,p,m,y,x,$,w,k,M,N,z,A,R,E,r,o,i,a,c,u,d,h,function(e){if(!0===b){if(0===e)return"start";if(e===i.length-1)return"end"}return"middle"},b,v]}class Fn extends re{constructor(e){super(),ne(this,e,Kn,On,o,{gridlines:0,formatTick:1,baseline:2,flipped:3,snapTicks:23,ticks:24,prefix:4,suffix:5,xTick:6,yTick:7,dxTick:8,dyTick:9,lineColor:10,textColor:11,solid:12,axisLabels:13})}}function Wn(e){let t,n,r,i;function o(t){e[13](t)}function a(t){e[14](t)}let l={};return void 0!==e[0]&&(l.selected=e[0]),void 0!==e[1]&&(l.hovered=e[1]),t=new Tn({props:l}),C.push((()=>J(t,"selected",o))),C.push((()=>J(t,"hovered",a))),{c(){Q(t.$$.fragment)},m(e,n){Z(t,e,n),i=!0},p(e,i){const o={};!n&&1&i&&(n=!0,o.selected=e[0],H((()=>n=!1))),!r&&2&i&&(r=!0,o.hovered=e[1],H((()=>r=!1))),t.$set(o)},i(e){i||(Y(t.$$.fragment,e),i=!0)},o(e){X(t.$$.fragment,e),i=!1},d(e){ee(t,e)}}}function Un(e){let t,n;return t=new Fn({props:{ticks:4,solid:!0,lineColor:"#00000033",formatTick:e[12],snapTicks:!0,dyTick:0,flipped:!0,axisLabels:e[6]}}),{c(){Q(t.$$.fragment)},m(e,r){Z(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.axisLabels=e[6]),t.$set(r)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Gn(e){let t,n,r,i=e[4]&&Wn(e),o=e[5]&&Un(e);return{c(){i&&i.c(),t=b(),o&&o.c(),n=v()},m(e,a){i&&i.m(e,a),f(e,t,a),o&&o.m(e,a),f(e,n,a),r=!0},p(e,r){e[4]?i?(i.p(e,r),16&r&&Y(i,1)):(i=Wn(e),i.c(),Y(i,1),i.m(t.parentNode,t)):i&&(I(),X(i,1,1,(()=>{i=null})),V()),e[5]?o?(o.p(e,r),32&r&&Y(o,1)):(o=Un(e),o.c(),Y(o,1),o.m(n.parentNode,n)):o&&(I(),X(o,1,1,(()=>{o=null})),V())},i(e){r||(Y(i),Y(o),r=!0)},o(e){X(i),X(o),r=!1},d(e){i&&i.d(e),e&&h(t),o&&o.d(e),e&&h(n)}}}function In(e){let t,n;return t=new $n({props:{$$slots:{default:[Gn]},$$scope:{ctx:e}}}),{c(){Q(t.$$.fragment)},m(e,r){Z(t,e,r),n=!0},p(e,n){const r={};32883&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Vn(e){let t,n,r;return n=new gn({props:{padding:e[9],x:e[7],z:e[8],xDomain:[0,100],yDomain:[0,1],zDomain:e[10],zScale:Ae(),zRange:e[11],data:e[2],$$slots:{default:[In]},$$scope:{ctx:e}}}),{c(){t=p("div"),Q(n.$$.fragment),$(t,"class","chart-container svelte-1dnlmiu"),k(t,"height",e[3]+"px")},m(e,i){f(e,t,i),Z(n,t,null),r=!0},p(e,[i]){const o={};512&i&&(o.padding=e[9]),128&i&&(o.x=e[7]),256&i&&(o.z=e[8]),1024&i&&(o.zDomain=e[10]),2048&i&&(o.zRange=e[11]),4&i&&(o.data=e[2]),32883&i&&(o.$$scope={dirty:i,ctx:e}),n.$set(o),(!r||8&i)&&k(t,"height",e[3]+"px")},i(e){r||(Y(n.$$.fragment,e),r=!0)},o(e){X(n.$$.fragment,e),r=!1},d(e){e&&h(t),ee(n)}}}function Yn(e,t,n){let{data:r}=t,{height:i=24}=t,{markers:o=!0}=t,{axis:a=!1}=t,{axisLabels:l=!0}=t,{xKey:c="value"}=t,{zKey:s=null}=t,{selected:u=null}=t,{hovered:d=null}=t,{padding:f={top:0,bottom:0,left:0,right:10}}=t,{zDomain:h=null}=t,{colors:g=["#206095","#27A0CC","#003C57","#118C7B","#A8BD3A","#871A5B","#F66068","#746CB1","#22D0B6"]}=t;r.forEach((e=>{e[c]=+e[c]}));return e.$$set=e=>{"data"in e&&n(2,r=e.data),"height"in e&&n(3,i=e.height),"markers"in e&&n(4,o=e.markers),"axis"in e&&n(5,a=e.axis),"axisLabels"in e&&n(6,l=e.axisLabels),"xKey"in e&&n(7,c=e.xKey),"zKey"in e&&n(8,s=e.zKey),"selected"in e&&n(0,u=e.selected),"hovered"in e&&n(1,d=e.hovered),"padding"in e&&n(9,f=e.padding),"zDomain"in e&&n(10,h=e.zDomain),"colors"in e&&n(11,g=e.colors)},[u,d,r,i,o,a,l,c,s,f,h,g,e=>e.toFixed(0)+"%",function(e){u=e,n(0,u)},function(e){d=e,n(1,d)}]}class Xn extends re{constructor(e){super(),ne(this,e,Yn,Vn,o,{data:2,height:3,markers:4,axis:5,axisLabels:6,xKey:7,zKey:8,selected:0,hovered:1,padding:9,zDomain:10,colors:11})}}function Jn(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function Qn(e,t,n){const r=e.slice();return r[24]=t[n],r[26]=n,r}function Zn(e,t,n){const r=e.slice();return r[27]=t[n],r[23]=n,r}function er(e,t,n){const r=e.slice();return r[29]=t[n],r}function tr(e,t,n){const r=e.slice();return r[32]=t[n],r}function nr(e,t,n){const r=e.slice();return r[32]=t[n],r}function rr(e,t,n){const r=e.slice();return r[32]=t[n],r}function ir(e,t,n){const r=e.slice();return r[32]=t[n],r}function or(t){let n,r,i=t[32].label+"";return{c(){n=p("option"),r=y(i),n.__value=t[32],n.value=n.__value},m(e,t){f(e,n,t),d(n,r)},p:e,d(e){e&&h(n)}}}function ar(t){let n,r,i=t[32].label+"";return{c(){n=p("option"),r=y(i),n.__value=t[32],n.value=n.__value},m(e,t){f(e,n,t),d(n,r)},p:e,d(e){e&&h(n)}}}function lr(t){let n,r,i=t[32].label+"";return{c(){n=p("option"),r=y(i),n.__value=t[32],n.value=n.__value},m(e,t){f(e,n,t),d(n,r)},p:e,d(e){e&&h(n)}}}function cr(t){let n,r,i=t[32].label+"";return{c(){n=p("option"),r=y(i),n.__value=t[32],n.value=n.__value},m(e,t){f(e,n,t),d(n,r)},p:e,d(e){e&&h(n)}}}function sr(e){let t,n,r,i,o,a,l=ie[e[29]].label+"";return{c(){t=p("label"),n=p("input"),r=b(),i=y(l),$(n,"type","radio"),n.__value=e[29],n.value=n.__value,e[14][0].push(n),$(t,"class","svelte-1hvejar")},m(l,c){f(l,t,c),d(t,n),n.checked=n.__value===e[1],d(t,r),d(t,i),o||(a=x(n,"change",e[15]),o=!0)},p(e,t){2&t[0]&&(n.checked=n.__value===e[1])},d(r){r&&h(t),e[14][0].splice(e[14][0].indexOf(n),1),o=!1,a()}}}function ur(e){let t,n=e[0][e[29]]&&e[0][e[29]].code&&sr(e);return{c(){n&&n.c(),t=v()},m(e,r){n&&n.m(e,r),f(e,t,r)},p(e,r){e[0][e[29]]&&e[0][e[29]].code?n?n.p(e,r):(n=sr(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&h(t)}}}function dr(e){let t,n,r,i=e[3],o=[];for(let t=0;t<i.length;t+=1)o[t]=fr(Zn(e,i,t));return{c(){t=p("span"),t.textContent="Legend:",n=b();for(let e=0;e<o.length;e+=1)o[e].c();r=v(),$(t,"class","title svelte-1hvejar")},m(e,i){f(e,t,i),f(e,n,i);for(let t=0;t<o.length;t+=1)o[t].m(e,i);f(e,r,i)},p(e,t){if(8&t[0]){let n;for(i=e[3],n=0;n<i.length;n+=1){const a=Zn(e,i,n);o[n]?o[n].p(a,t):(o[n]=fr(a),o[n].c(),o[n].m(r.parentNode,r))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}},d(e){e&&h(t),e&&h(n),g(o,e),e&&h(r)}}}function fr(e){let t,n,r=e[27]+"";return{c(){t=p("span"),n=y(r),k(t,"color",le[e[23]]),$(t,"class","svelte-1hvejar")},m(e,r){f(e,t,r),d(t,n)},p(e,t){8&t[0]&&r!==(r=e[27]+"")&&w(n,r)},d(e){e&&h(t)}}}function hr(e){let t,n,r=oe,i=[];for(let t=0;t<r.length;t+=1)i[t]=pr(Jn(e,r,t));const o=e=>X(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=v()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);f(e,t,r),n=!0},p(e,n){if(62&n[0]){let a;for(r=oe,a=0;a<r.length;a+=1){const o=Jn(e,r,a);i[a]?(i[a].p(o,n),Y(i[a],1)):(i[a]=pr(o),i[a].c(),Y(i[a],1),i[a].m(t.parentNode,t))}for(I(),a=r.length;a<i.length;a+=1)o(a);V()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Y(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)X(i[e]);n=!1},d(e){g(i,e),e&&h(t)}}}function gr(e){let t,n,r,i,o,a,l,c,s,u=e[24].label+"",g=0==e[26]&&function(e){let t,n,r,i,o;return i=new Xn({props:{data:[],markers:!1,axis:!0,height:12}}),{c(){t=p("div"),n=b(),r=p("div"),Q(i.$$.fragment)},m(e,a){f(e,t,a),f(e,n,a),f(e,r,a),Z(i,r,null),o=!0},i(e){o||(Y(i.$$.fragment,e),o=!0)},o(e){X(i.$$.fragment,e),o=!1},d(e){e&&h(t),e&&h(n),e&&h(r),ee(i)}}}();function m(t){e[16](t)}function v(t){e[17](t)}let x={data:e[24].data,xKey:"value",zKey:e[1],zDomain:e[3],colors:le,axis:!0,axisLabels:!1};return void 0!==e[2]&&(x.selected=e[2]),void 0!==e[5]&&(x.hovered=e[5]),a=new Xn({props:x}),C.push((()=>J(a,"selected",m))),C.push((()=>J(a,"hovered",v))),{c(){g&&g.c(),t=b(),n=p("div"),r=y(u),i=b(),o=p("div"),Q(a.$$.fragment)},m(e,l){g&&g.m(e,l),f(e,t,l),f(e,n,l),d(n,r),f(e,i,l),f(e,o,l),Z(a,o,null),s=!0},p(e,t){(!s||16&t[0])&&u!==(u=e[24].label+"")&&w(r,u);const n={};16&t[0]&&(n.data=e[24].data),2&t[0]&&(n.zKey=e[1]),8&t[0]&&(n.zDomain=e[3]),!l&&4&t[0]&&(l=!0,n.selected=e[2],H((()=>l=!1))),!c&&32&t[0]&&(c=!0,n.hovered=e[5],H((()=>c=!1))),a.$set(n)},i(e){s||(Y(g),Y(a.$$.fragment,e),s=!0)},o(e){X(g),X(a.$$.fragment,e),s=!1},d(e){g&&g.d(e),e&&h(t),e&&h(n),e&&h(i),e&&h(o),ee(a)}}}function pr(e){let t,n,r,i,o,a,l=e[21].label+"",c=e[4][e[23]],s=[];for(let t=0;t<c.length;t+=1)s[t]=gr(Qn(e,c,t));const u=e=>X(s[e],1,1,(()=>{s[e]=null}));return{c(){t=p("h2"),n=y(l),r=b(),i=p("div");for(let e=0;e<s.length;e+=1)s[e].c();o=b(),$(t,"class","svelte-1hvejar"),$(i,"class","grid svelte-1hvejar")},m(e,l){f(e,t,l),d(t,n),f(e,r,l),f(e,i,l);for(let e=0;e<s.length;e+=1)s[e].m(i,null);d(i,o),a=!0},p(e,t){if(62&t[0]){let n;for(c=e[4][e[23]],n=0;n<c.length;n+=1){const r=Qn(e,c,n);s[n]?(s[n].p(r,t),Y(s[n],1)):(s[n]=gr(r),s[n].c(),Y(s[n],1),s[n].m(i,o))}for(I(),n=c.length;n<s.length;n+=1)u(n);V()}},i(e){if(!a){for(let e=0;e<c.length;e+=1)Y(s[e]);a=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)X(s[e]);a=!1},d(e){e&&h(t),e&&h(r),e&&h(i),g(s,e)}}}function mr(e){let t,n,i,o,a,l,c,s,u,m,v,w,N,z,A,R,E,_,S,D,T,C,j,B,L,P,H=ie.sex.options,O=[];for(let t=0;t<H.length;t+=1)O[t]=or(ir(e,H,t));let K=ie.age.options,F=[];for(let t=0;t<K.length;t+=1)F[t]=ar(rr(e,K,t));let W=ie.birth.options,U=[];for(let t=0;t<W.length;t+=1)U[t]=lr(nr(e,W,t));let G=ie.ethnicity.options,J=[];for(let t=0;t<G.length;t+=1)J[t]=cr(tr(e,G,t));let Q=e[6],Z=[];for(let t=0;t<Q.length;t+=1)Z[t]=ur(er(e,Q,t));let ee=e[3]&&dr(e),te=e[4]&&hr(e);return{c(){t=p("h1"),t.textContent="How do I compare?",n=b(),i=p("p"),o=y("Tell me how\n\t\n\t"),a=p("select");for(let e=0;e<O.length;e+=1)O[e].c();l=y("\n\taged\n\t\n\t"),c=p("select");for(let e=0;e<F.length;e+=1)F[e].c();s=y("\n\t, born\n\t\n\t"),u=p("select");for(let e=0;e<U.length;e+=1)U[e].c();m=y("\n\tand of\n\t\n\t"),v=p("select");for(let e=0;e<J.length;e+=1)J[e].c();w=y("\n\tethnicity compare to other sub-population groups in England and Wales."),N=b(),z=p("div"),A=y("Colour by:\n\t"),R=p("label"),E=p("input"),_=y("\n\t\tNone"),S=b();for(let e=0;e<Z.length;e+=1)Z[e].c();D=b(),ee&&ee.c(),T=b(),te&&te.c(),C=b(),j=p("div"),void 0===e[0].sex&&q((()=>e[9].call(a))),void 0===e[0].age&&q((()=>e[10].call(c))),void 0===e[0].birth&&q((()=>e[11].call(u))),void 0===e[0].ethnicity&&q((()=>e[12].call(v))),$(E,"type","radio"),E.__value=null,E.value=E.__value,e[14][0].push(E),$(R,"class","svelte-1hvejar"),$(z,"class","no-whitespace svelte-1hvejar"),k(j,"height","35px")},m(r,h){f(r,t,h),f(r,n,h),f(r,i,h),d(i,o),d(i,a);for(let e=0;e<O.length;e+=1)O[e].m(a,null);M(a,e[0].sex),d(i,l),d(i,c);for(let e=0;e<F.length;e+=1)F[e].m(c,null);M(c,e[0].age),d(i,s),d(i,u);for(let e=0;e<U.length;e+=1)U[e].m(u,null);M(u,e[0].birth),d(i,m),d(i,v);for(let e=0;e<J.length;e+=1)J[e].m(v,null);M(v,e[0].ethnicity),d(i,w),f(r,N,h),f(r,z,h),d(z,A),d(z,R),d(R,E),E.checked=E.__value===e[1],d(R,_),d(z,S);for(let e=0;e<Z.length;e+=1)Z[e].m(z,null);d(z,D),ee&&ee.m(z,null),f(r,T,h),te&&te.m(r,h),f(r,C,h),f(r,j,h),B=!0,L||(P=[x(a,"change",e[9]),x(a,"change",e[7]),x(c,"change",e[10]),x(c,"change",e[7]),x(u,"change",e[11]),x(u,"change",e[7]),x(v,"change",e[12]),x(v,"change",e[7]),x(E,"change",e[13])],L=!0)},p(e,t){if(0&t){let n;for(H=ie.sex.options,n=0;n<H.length;n+=1){const r=ir(e,H,n);O[n]?O[n].p(r,t):(O[n]=or(r),O[n].c(),O[n].m(a,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=H.length}if(1&t[0]&&M(a,e[0].sex),0&t){let n;for(K=ie.age.options,n=0;n<K.length;n+=1){const r=rr(e,K,n);F[n]?F[n].p(r,t):(F[n]=ar(r),F[n].c(),F[n].m(c,null))}for(;n<F.length;n+=1)F[n].d(1);F.length=K.length}if(1&t[0]&&M(c,e[0].age),0&t){let n;for(W=ie.birth.options,n=0;n<W.length;n+=1){const r=nr(e,W,n);U[n]?U[n].p(r,t):(U[n]=lr(r),U[n].c(),U[n].m(u,null))}for(;n<U.length;n+=1)U[n].d(1);U.length=W.length}if(1&t[0]&&M(u,e[0].birth),0&t){let n;for(G=ie.ethnicity.options,n=0;n<G.length;n+=1){const r=tr(e,G,n);J[n]?J[n].p(r,t):(J[n]=cr(r),J[n].c(),J[n].m(v,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=G.length}if(1&t[0]&&M(v,e[0].ethnicity),2&t[0]&&(E.checked=E.__value===e[1]),67&t[0]){let n;for(Q=e[6],n=0;n<Q.length;n+=1){const r=er(e,Q,n);Z[n]?Z[n].p(r,t):(Z[n]=ur(r),Z[n].c(),Z[n].m(z,D))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=Q.length}e[3]?ee?ee.p(e,t):(ee=dr(e),ee.c(),ee.m(z,null)):ee&&(ee.d(1),ee=null),e[4]?te?(te.p(e,t),16&t[0]&&Y(te,1)):(te=hr(e),te.c(),Y(te,1),te.m(C.parentNode,C)):te&&(I(),X(te,1,1,(()=>{te=null})),V())},i(e){B||(Y(te),B=!0)},o(e){X(te),B=!1},d(o){o&&h(t),o&&h(n),o&&h(i),g(O,o),g(F,o),g(U,o),g(J,o),o&&h(N),o&&h(z),e[14][0].splice(e[14][0].indexOf(E),1),g(Z,o),ee&&ee.d(),o&&h(T),te&&te.d(o),o&&h(C),o&&h(j),L=!1,r(P)}}}function yr(e,t,n){const r=Object.keys(ie);let i={},o=null,a=null,l=null,c=null,s="All",u=s,d=null;function f(){let e=[];oe.forEach((t=>{let n=l[t.key],o=n.dimensions.length,a=n.dimensions[o-1].categories,c=a.map((e=>ae[e.label])),s=["All"];if(o>1)for(let e=0;e<o-1;e++){let t=[];s.forEach((r=>{n.dimensions[e].categories.forEach((e=>{let n="All"==r?ae[e.label]:r+", "+ae[e.label];t.push(n)}))})),s=t}let u={},d={},f=[];s.forEach(((e,t)=>{u[e]={sum:0,counts:[],perc:[]},a.forEach(((r,i)=>{let a=n.values[t*n.dimensions[o-1].categories.length+i];u[e].sum+=a,u[e].counts.push({label:ae[r.label],value:a})})),u[e].counts.forEach((t=>{u[e].perc.push({label:t.label,value:+(t.value/u[e].sum*100).toFixed(2)})})),c.forEach(((t,n)=>{let o="All"!=e?e.split(", "):[],a={},l=0;r.forEach((e=>{i[e].code&&(a[e]=o[l],l+=1)})),d[t]||(d[t]={label:t,data:[]}),d[t].data.push({label:e,value:u[e].perc[n].value,...a})}))})),c.forEach((e=>f.push(d[e]))),e.push(f)})),n(4,c=e)}se(ie,r).then((e=>{l=e.data.dataset,f()}));return e.$$.update=()=>{if(2&e.$$.dirty[0]&&(o||!o)&&function(){if(o){let e=[];c[0][0].data.forEach((t=>{e.includes(t[o])||e.push(t[o])})),n(3,a=e)}else n(3,a=null)}(),261&e.$$.dirty[0]&&s!=u){let e=s.split(", ");r.forEach((t=>{i[t].code&&!e.includes(i[t].name)&&n(0,i[t]=ie[t].options.find((t=>e.includes(t.name))),i)})),n(8,u=s)}},[i,o,s,a,c,d,r,function(){let e=[],t=[];r.forEach((n=>{i[n].code&&(e.push(ie[n].code),t.push(i[n].name))})),se(ie,r,e).then((e=>{l=e.data.dataset,f(),n(2,s=t[0]?t.join(", "):"All"),i[o]&&!i[o].code&&n(1,o=null)}))},u,function(){i.sex=N(this),n(0,i),n(2,s),n(8,u)},function(){i.age=N(this),n(0,i),n(2,s),n(8,u)},function(){i.birth=N(this),n(0,i),n(2,s),n(8,u)},function(){i.ethnicity=N(this),n(0,i),n(2,s),n(8,u)},function(){o=this.__value,n(1,o)},[[]],function(){o=this.__value,n(1,o)},function(e){s=e,n(2,s)},function(e){d=e,n(5,d)}]}return new class extends re{constructor(e){super(),ne(this,e,yr,mr,o,{},[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
